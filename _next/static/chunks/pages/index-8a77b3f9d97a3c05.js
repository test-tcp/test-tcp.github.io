(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(8067)}])},8067:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Me}});var a=n(5893),i=n(9795),s=n(7294),r=n(241),l=n(950),u=n(3929);function o(e,t,n){var a=(0,s.useRef)();(0,s.useEffect)((function(){var i=(null===n||void 0===n?void 0:n.current)||window;if(i&&i.addEventListener){a.current!==t&&(a.current=t);var s=function(e){(null===a||void 0===a?void 0:a.current)&&a.current(e)};return i.addEventListener(e,s),function(){i.removeEventListener(e,s)}}}),[e,n,t])}var c=function(e,t){var n=function(){try{var n=window.localStorage.getItem(e);return n?function(e){try{return"undefined"===e?void 0:JSON.parse(null!==e&&void 0!==e?e:"")}catch(t){return void console.log("parsing error on",{value:e})}}(n):t}catch(a){return console.warn("Error reading localStorage key \u201c".concat(e,"\u201d:"),a),t}},a=(0,s.useState)(n),i=a[0],r=a[1];(0,s.useEffect)((function(){r(n())}),[]);var l=function(){r(n())};return o("storage",l),o("local-storage",l),[i,function(t){try{var n=(a=t,(null!=(s=Function)&&"undefined"!==typeof Symbol&&s[Symbol.hasInstance]?s[Symbol.hasInstance](a):a instanceof s)?t(i):t);window.localStorage.setItem(e,JSON.stringify(n)),r(n),window.dispatchEvent(new Event("local-storage"))}catch(l){console.warn("Error setting localStorage key \u201c".concat(e,"\u201d:"),l)}var a,s}]};var d=new l._k({supportedChainIds:[56,1337]}),p=new u.zw({rpc:{1:"https://eth.alchemyapi.io/v2/<YOUR ALCHEMY KEY>",3:"https://eth-ropsten.alchemyapi.io/v2/<YOUR ALCHEMY KEY>",4:"https://eth-rinkeby.alchemyapi.io/v2/<YOUR ALCHEMY KEY>",1337:"http://127.0.0.1:8545/"},qrcode:!0}),y=n(2043),m=n.n(y),f={warn:m().warn,debug:m().debug,info:m().info,error:m().error,trace:m().trace,setLevel:m().setLevel};var h=n(3996),v=n(4051),b=n.n(v),x=n(2117);n(6094);function T(e,t,n,a,i,s,r){try{var l=e[s](r),u=l.value}catch(o){return void n(o)}l.done?t(u):Promise.resolve(u).then(a,i)}var g=function(){var e,t=(e=b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,i){var s=e.apply(t,n);function r(e){T(s,a,i,r,l,"next",e)}function l(e){T(s,a,i,r,l,"throw",e)}r(void 0)}))});return function(e){return t.apply(this,arguments)}}();function w(e,t,n,a,i,s,r){try{var l=e[s](r),u=l.value}catch(o){return void n(o)}l.done?t(u):Promise.resolve(u).then(a,i)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var s=e.apply(t,n);function r(e){w(s,a,i,r,l,"next",e)}function l(e){w(s,a,i,r,l,"throw",e)}r(void 0)}))}}var N="en",C=((0,x.u4)(),{cht:function(){return n.e(150).then(n.bind(n,150))},en:function(){return n.e(481).then(n.bind(n,481))}}),M=function(){var e=j(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(C[t]||C[N])();case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=(function(){var e=j(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=x.Xl,e.t1=t,e.next=4,g(t);case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})))}(),(0,h.n)(N,M,g)),S=k.component,A=k.context,E=S;function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function R(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,s=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(s.push(a.value),!t||s.length!==t);r=!0);}catch(u){l=!0,i=u}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e){var t=(0,s.useContext)(A).LL;return R(e,l.A5)?t.Error.NoEthereumProviderError():R(e,i.Uu)?t.Error.UnsupportedChainIdError():R(e,l.ab)||R(e,u.ab)?t.Error.UserRejectedRequestErrorInjected():(f.error(e),t.Error.UnknownError())}function O(e){var t=new r.Q(e);return t.pollingInterval=12e3,t}var U=function(){var e=function(e){var t=!!e.srcElement&&e.srcElement.documentElement.scrollTop||window.pageYOffset||(e.srcElement?e.srcElement.body.scrollTop:0);t>0&&t<=50?_(!0):t>50&&_(!1)},t=(0,s.useContext)(A).LL,n=(0,i.Ge)(),r=n.connector,l=(n.library,n.account),u=n.activate,o=(n.deactivate,n.active,n.error),y=P(c("theme","synthwave"),2),m=y[0],h=(y[1],P(c("language","en"),2)),v=(h[0],h[1]),b=(0,s.useContext)(A),x=(b.locale,b.isLoadingLocale,b.setLocale),T=(0,s.useState)(),g=T[0],w=T[1],j=(0,s.useState)(!1),N=j[0],C=j[1];(0,s.useEffect)((function(){g&&g===r&&w(void 0)}),[g,r]),(0,s.useEffect)((function(){u(d)}),[]),(0,s.useEffect)((function(){console.log("data-theme:",m),document.documentElement.setAttribute("data-theme",m)}),[]),(0,s.useEffect)((function(){C(!!o)}),[o]);var M=function(){var e=(0,i.Ge)(),t=e.activate,n=e.active,a=(0,s.useState)(!1),r=a[0],l=a[1];return(0,s.useEffect)((function(){d.isAuthorized().then((function(e){e?t(d,void 0,!0).catch((function(){l(!0)})):l(!0)}))}),[]),(0,s.useEffect)((function(){!r&&n&&l(!0)}),[r,n]),r}();!function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,i.Ge)(),n=t.active,a=t.error,r=t.activate;(0,s.useEffect)((function(){var t=window.ethereum;if(t&&t.on&&!n&&!a&&!e){var i=function(){f.warn("Handling 'connect' event"),r(d)},s=function(e){f.warn("Handling 'chainChanged' event with payload",e),r(d)},l=function(e){f.warn("Handling 'accountsChanged' event with payload",e),e.length>0&&r(d)},u=function(e){f.warn("Handling 'networkChanged' event with payload",e),r(d)};return t.on("connect",i),t.on("chainChanged",s),t.on("accountsChanged",l),t.on("networkChanged",u),function(){t.removeListener&&(t.removeListener("connect",i),t.removeListener("chainChanged",s),t.removeListener("accountsChanged",l),t.removeListener("networkChanged",u))}}}),[n,a,e,r])}(!M||!!g);var k=function(e){return e===r},S=(!M||!!g||k(d)||k(p),(0,s.useState)(!1)),E=(S[0],S[1]),I=(0,s.useState)(!0),R=(I[0],I[1]);(0,s.useEffect)((function(){setTimeout((function(){return E(!0)}),2e3),setTimeout((function(){return R(!0)}),4e3)}),[]);var O=(0,s.useState)(!0),U=O[0],_=O[1];return(0,s.useEffect)((function(){window.addEventListener("scroll",e)}),[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"sticky top-0 z-30 flex h-16 w-full justify-center bg-opacity-90 backdrop-blur transition-all duration-100 text-primary-content",children:(0,a.jsxs)("nav",{className:[U?"":"bg-base-100 text-base-content","navbar","w-full"].join(" "),children:[(0,a.jsx)("div",{className:"navbar-start",children:(0,a.jsx)("a",{href:"/",className:["btn btn-ghost normal-case text-xl animate-pulse duration-2000",U?"":"bg-clip-text text-transparent bg-gradient-to-r from-pink-300 to-blue-500"].join(" "),children:"TCP GlOBAL"})}),(0,a.jsxs)("div",{className:"flex-0 navbar-end",children:[(0,a.jsx)("div",{className:"items-center flex-none lg:block",children:(0,a.jsxs)("a",{className:"btn btn-ghost drawer-button normal-case",onClick:function(){w(d),u(d)},children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),l?l.substring(0,6)+"..."+l.substring(l.length-4):t.Head.ConnectWallet()]})}),(0,a.jsxs)("div",{title:"Language",className:"dropdown dropdown-end ",children:[(0,a.jsxs)("div",{tabIndex:0,className:"btn gap-2 normal-case btn-ghost",children:[(0,a.jsx)("svg",{width:"20",height:"20",className:"inline-block h-5 w-5 stroke-current md:h-6 md:w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})}),(0,a.jsx)("span",{className:"hidden md:inline",children:"Language"}),(0,a.jsx)("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1792 1792",className:"ml-1 inline-block h-4 w-4 fill-current",children:(0,a.jsx)("path",{d:"M1395 736q0 13-10 23l-466 466q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l393 393 393-393q10-10 23-10t23 10l50 50q10 10 10 23z"})})]}),(0,a.jsx)("div",{className:"dropdown-content bg-base-200 text-base-content rounded-t-box rounded-b-box top-px w-52 overflow-y-auto shadow-2xl mt-16",children:(0,a.jsxs)("ul",{className:"menu menu-compact p-4",tabIndex:0,children:[(0,a.jsx)("li",{onClick:function(e){x("en"),v("en")},children:(0,a.jsx)("button",{children:"\ud83c\uddec\ud83c\udde7 English"})}),(0,a.jsx)("li",{onClick:function(e){x("cht"),v("cht")},children:(0,a.jsx)("button",{children:"\ud83c\udde8\ud83c\uddf3 \u4e2d\u6587\u7e41\u4f53"})})]})})]})]})]})}),(0,a.jsx)("div",{id:"my-modal",className:N?"modal modal-open":"modal",children:(0,a.jsxs)("div",{className:"modal-box",children:[(0,a.jsxs)("p",{children:[o?L(o):"",(0,a.jsx)("a",{href:"https://chainnugget.com/u/tcpglobal/discussions",target:"_blank",className:"link link-primary",children:t.Footer.Help()})]}),(0,a.jsx)("div",{className:"modal-action",children:(0,a.jsx)("a",{onClick:function(){return C(!1)},className:"btn",children:t.Btn.Close()})})]})})]})},_=n(1438),F=n(4176),H=JSON.parse('{"Mt":[{"inputs":[{"internalType":"address","name":"dataToChainAddress","type":"address"},{"internalType":"contract IERC20","name":"token","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_from","type":"address"},{"indexed":false,"internalType":"uint256","name":"_value","type":"uint256"}],"name":"Harvest","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_from","type":"address"},{"indexed":false,"internalType":"uint256","name":"_value","type":"uint256"}],"name":"HarvestUnlockAmount","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_from","type":"address"},{"indexed":true,"internalType":"address","name":"_to","type":"address"},{"indexed":false,"internalType":"uint256","name":"_value","type":"uint256"}],"name":"LevelReward","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_to","type":"address"},{"indexed":false,"internalType":"uint256","name":"_value","type":"uint256"}],"name":"LevelUp","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_from","type":"address"},{"indexed":false,"internalType":"uint256","name":"_value","type":"uint256"}],"name":"LockPosition","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_from","type":"address"},{"indexed":true,"internalType":"address","name":"_to","type":"address"},{"indexed":false,"internalType":"uint256","name":"_value","type":"uint256"}],"name":"RecommendReward","type":"event"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"_assessLevel","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_cycleTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_dataToChain","outputs":[{"internalType":"contract DataToChain","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_halveTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_harvestFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"userAddress","type":"address"}],"name":"_isActive","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"_isMiner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_levelOneLockAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"_levelRates","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_secondsRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_token","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimalsUnit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"defaultParent","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"userAddress","type":"address"}],"name":"getLockAmount","outputs":[{"internalType":"uint256","name":"lockAmount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"userAddress","type":"address"}],"name":"getParentAddress","outputs":[{"internalType":"address","name":"parentAddress","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"userAddress","type":"address"}],"name":"getRecommendAccounts","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"userAddress","type":"address"}],"name":"getUnlockAmount","outputs":[{"internalType":"uint256","name":"unlockAmount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"getUserInfo","outputs":[{"internalType":"address","name":"parentAddress","type":"address"},{"internalType":"uint256","name":"harvestTime","type":"uint256"},{"internalType":"uint256","name":"lockAmount","type":"uint256"},{"internalType":"uint256","name":"harvestAmount","type":"uint256"},{"internalType":"uint256","name":"recommendUser","type":"uint256"},{"internalType":"uint256","name":"recommendReward","type":"uint256"},{"internalType":"uint256","name":"level","type":"uint256"},{"internalType":"uint256","name":"levelReward","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"userAddress","type":"address"},{"internalType":"uint256","name":"unlockTime","type":"uint256"}],"name":"getUserUnlockTimeAndAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"userAddress","type":"address"}],"name":"getUserUnlockTimeAndAmountKeys","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"userAddress","type":"address"}],"name":"getWaitHarvest","outputs":[{"internalType":"uint256","name":"waitHarvest","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"harvest","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"harvestUnlockAmount","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"inviteRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"msgSender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"parent","type":"address"}],"name":"lock","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"lockByMiner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"lockInit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"relock","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"replaceFromAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"replaceToAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"con","type":"address"},{"internalType":"address","name":"addr","type":"address"},{"internalType":"uint256","name":"fee","type":"uint256"}],"name":"returnTransferIn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"leves","type":"uint256[]"}],"name":"setAssessLevel","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"parent","type":"address"}],"name":"setDefaultParentAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"time","type":"uint256"}],"name":"setHalveTime","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"rate","type":"uint256"}],"name":"setHarvestFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"rate","type":"uint256[]"}],"name":"setInviteRate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"levelOneLockAmount","type":"uint256"}],"name":"setLevelOneLockAmount","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"levesRate","type":"uint256[]"}],"name":"setLevesRate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"minerAddress","type":"address"},{"internalType":"bool","name":"isMiner","type":"bool"}],"name":"setMiner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"address","name":"parent","type":"address"}],"name":"setParentAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"}],"name":"setReplaceAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"_unlockTime","type":"uint256"}],"name":"unlockByTime","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"userInfos","outputs":[{"internalType":"address","name":"parentAddress","type":"address"},{"internalType":"uint256","name":"harvestTime","type":"uint256"},{"internalType":"uint256","name":"lockAmount","type":"uint256"},{"internalType":"uint256","name":"harvestAmount","type":"uint256"},{"internalType":"uint256","name":"recommendReward","type":"uint256"},{"internalType":"uint256","name":"level","type":"uint256"},{"internalType":"uint256","name":"levelReward","type":"uint256"}],"stateMutability":"view","type":"function"},{"stateMutability":"payable","type":"receive"}]}'),B=JSON.parse('{"Mt":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"string","name":"nickName","type":"string"},{"indexed":false,"internalType":"uint256","name":"total","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"min","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"max","type":"uint256"},{"indexed":true,"internalType":"address","name":"sellToken","type":"address"},{"indexed":false,"internalType":"address","name":"receiveToken","type":"address"}],"name":"AddC2CAdvertised","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"uint256","name":"adId","type":"uint256"},{"indexed":false,"internalType":"address","name":"seller","type":"address"},{"indexed":false,"internalType":"uint256","name":"quantity","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"createTime","type":"uint256"}],"name":"AddC2COrderd","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operate","type":"address"},{"indexed":true,"internalType":"uint256","name":"factor","type":"uint256"}],"name":"AddOperated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"}],"name":"RemoveC2CAdvertised","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"}],"name":"RemoveC2COrderd","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operate","type":"address"}],"name":"RemoveOperated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"previousAdminRole","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"newAdminRole","type":"bytes32"}],"name":"RoleAdminChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleGranted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleRevoked","type":"event"},{"inputs":[],"name":"ADVERTISE_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DEFAULT_ADMIN_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"FEE_FACTOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MINTER_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"OPERATE_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"PAUSER_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"string","name":"nickName","type":"string"},{"internalType":"uint256","name":"total","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"min","type":"uint256"},{"internalType":"uint256","name":"max","type":"uint256"},{"internalType":"address","name":"sellToken","type":"address"},{"internalType":"address","name":"receiveToken","type":"address"}],"name":"addC2CAdvertise","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"advertiseAt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"advertiseIds","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"advertiseLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct C2CMarketUpgradeable.Call[]","name":"calls","type":"tuple[]"}],"name":"aggregate","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"},{"internalType":"bytes[]","name":"returnData","type":"bytes[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"c2CAdvertiseMap","outputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"string","name":"nickName","type":"string"},{"internalType":"uint256","name":"total","type":"uint256"},{"internalType":"uint256","name":"sold","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"min","type":"uint256"},{"internalType":"uint256","name":"max","type":"uint256"},{"internalType":"address","name":"sellToken","type":"address"},{"internalType":"address","name":"receiveToken","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"c2COrderMap","outputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"adId","type":"uint256"},{"internalType":"address","name":"seller","type":"address"},{"internalType":"uint256","name":"quantity","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"createTime","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"adId","type":"uint256"},{"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"createC2COrder","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"string","name":"nickName","type":"string"},{"internalType":"uint256","name":"total","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"min","type":"uint256"},{"internalType":"uint256","name":"max","type":"uint256"}],"name":"editC2CAdvertise","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"factor","type":"uint256"}],"name":"editFeeFactor","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operate","type":"address"},{"internalType":"uint256","name":"factor","type":"uint256"}],"name":"editOperate","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"}],"name":"getBlockHash","outputs":[{"internalType":"bytes32","name":"blockHash","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockCoinbase","outputs":[{"internalType":"address","name":"coinbase","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockDifficulty","outputs":[{"internalType":"uint256","name":"difficulty","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockGasLimit","outputs":[{"internalType":"uint256","name":"gaslimit","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockTimestamp","outputs":[{"internalType":"uint256","name":"timestamp","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"}],"name":"getEthBalance","outputs":[{"internalType":"uint256","name":"balance","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLastBlockHash","outputs":[{"internalType":"bytes32","name":"blockHash","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleAdmin","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"getRoleMember","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleMemberCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"grantRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"hasRole","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"idOfOrderIds","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"operateAt","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"operateIds","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"operateLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"operateMapFactor","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"orderAt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"orderIds","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"orderLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"ownerC2COrderIds","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"ownerC2COrderLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"ownerC2COrderMap","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"name":"removeC2CAdvertise","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"operate","type":"address"}],"name":"removeOperate","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"renounceRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address payable","name":"to","type":"address"},{"internalType":"bool","name":"isETH","type":"bool"},{"internalType":"address","name":"currency","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"returnTransferIn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"revokeRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"}]}'),D=JSON.parse('{"Mt":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]}'),Z=n(4322).O$.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff").toBigInt(),z="0x0000000000000000000000000000000000000000",G="0x77d34de33a75ac2a772f8C47080c0232Cbff463B",Y="0x63495299E94E8A8c05236Aa6EbB02B2054F75536",$=18,q="https://bsc-dataseed1.ninicoin.io",W=n(9386),Q=n(2888),J=n(4931),K=n(4982);function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,s=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(s.push(a.value),!t||s.length!==t);r=!0);}catch(u){l=!0,i=u}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ee=function(e){var t=e.tcpPositionContract,n=e.tcpTokenContract,r=e.fee,l=(0,i.Ge)(),u=(l.library,l.chainId,l.account),o=(l.error,(0,s.useContext)(A).LL),d=(0,s.useState)(0),p=d[0],y=d[1],m=(0,s.useState)(0),f=m[0],h=m[1],v=(0,s.useState)(0),b=v[0],x=v[1],T=(0,s.useState)(0),g=T[0],w=T[1],j=V(c("parent-address",null),2),N=j[0],C=j[1];(0,s.useEffect)((function(){t&&u&&(console.log("tcpPositionContract:",t),console.log("account:",u),t.getLockAmount(u).then((function(e){return y(Number((0,W.bM)(e,$)))})),t.getUnlockAmount(u).then((function(e){return h(Number((0,W.bM)(e,$)))})),t.getParentAddress(u).then((function(e){e.toLowerCase()!=z&&C(e)})))}),[t,u]),(0,s.useEffect)((function(){var e=setInterval((function(){console.log("tcpPositionContract.interval"),t&&u&&(t.getLockAmount(u).then((function(e){return y(Number((0,W.bM)(e,$)))})),t.getUnlockAmount(u).then((function(e){return h(Number((0,W.bM)(e,$)))})))}),3e3);return function(){return clearInterval(e)}}),[]),(0,s.useEffect)((function(){n&&u&&(n.balanceOf(u).then((function(e){x(Number((0,W.bM)(e,$)))})),n.allowance(u,G).then((function(e){w(Number((0,W.bM)(e,$)))})))}),[n,u]),(0,s.useEffect)((function(){var e=setInterval((function(){console.log("tcpTokenContract.interval"),n&&u&&(n.balanceOf(u).then((function(e){x(Number((0,W.bM)(e,$)))})),n.allowance(u,G).then((function(e){w(Number((0,W.bM)(e,$)))})))}),3e3);return function(){return clearInterval(e)}}),[]);var M=function(){t&&(f<=0||t.harvestUnlockAmount().then((function(){t.getUnlockAmount(u).then((function(e){return h(Number((0,W.bM)(e,$)))}))})))},k=(0,s.useState)(0),S=k[0],E=k[1],I=(0,s.useState)(0),R=I[0],P=I[1],L=(0,s.useState)(!1),O=L[0],U=L[1],_=(0,s.useState)(""),F=_[0],H=_[1];(0,s.useEffect)((function(){g>=R&&U(!1)}),[g]);var B=(0,Q.$)({hash:F,providerUrl:q});(0,s.useEffect)((function(){switch(B.status){case"SUCCESS":break;case"FAILED":U(!1),J.ZP.error("transaction failed")}}),[B.status]),(0,s.useEffect)((function(){Y&&(X(!1),P(0),E(0))}),[p]);var D=(0,s.useState)(!1),Y=D[0],X=D[1],ee=(0,s.useState)(""),te=ee[0],ne=ee[1],ae=(0,Q.$)({hash:te,providerUrl:q});return(0,s.useEffect)((function(){switch(ae.status){case"SUCCESS":break;case"FAILED":X(!1),J.ZP.error("transaction failed")}}),[ae.status]),(0,a.jsx)("div",{className:"",children:(0,a.jsx)("div",{className:"mt-10 px-1",children:(0,a.jsxs)("div",{className:"w-full text-primary-content bg-opacity-10 glass rounded-box ",children:[(0,a.jsxs)("div",{className:"navbar pb-10",onClick:function(){return E(0)},children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:0!=S?"h-5 w-5 m-1 ":"h-5 w-5 m-1 hidden",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),(0,a.jsx)("div",{className:"flex-1 ",children:(0,a.jsx)("h1",{className:"text-3xl",children:o.Postion.Title()})})]}),(0,a.jsx)("div",{className:["grid pb-10 px-5",0!=S?"hidden":""].join(" "),children:(0,a.jsxs)("div",{className:"stats bg-opacity-20 bg-neutral text-neutral-content stats-vertical lg:stats-horizontal shadow-2xl",children:[(0,a.jsxs)("div",{className:"stat",children:[(0,a.jsx)("div",{className:"stat-title",children:o.Postion.PositionBalance()}),(0,a.jsx)("div",{className:"stat-value",children:p.toString().match(/^\d+(?:\.\d{0,5})?/)}),(0,a.jsx)("div",{className:"stat-actions",children:(0,a.jsx)("button",{className:"btn btn-md",onClick:function(){return E(1)},children:o.Postion.AddPosition()})})]}),(0,a.jsxs)("div",{className:"stat",children:[(0,a.jsx)("div",{className:"stat-title",children:o.Postion.ReleasedBalance()}),(0,a.jsx)("div",{className:"stat-value",children:f.toString().match(/^\d+(?:\.\d{0,5})?/)}),(0,a.jsx)("div",{className:"stat-actions",children:(0,a.jsx)("button",{className:f<=0?"btn btn-md btn-disabled":"btn btn-md",onClick:function(){return M},children:o.Postion.Withdrawal()})})]})]})}),(0,a.jsxs)("div",{className:["grid pb-10 px-5",1!=S?"hidden":""].join(" "),children:[(0,a.jsxs)("label",{className:"label",children:[(0,a.jsx)("span",{className:"label-text",children:o.Postion.NumberOfTCP()}),(0,a.jsxs)("span",{className:"label-text-alt",children:[o.Postion.Balance(),": ",b.toString().match(/^\d+(?:\.\d{0,5})?/)," TCP"]})]}),(0,a.jsxs)("label",{className:"input-group bg-opacity-0 bg-neutral text-neutral-content ",children:[(0,a.jsx)("input",{type:"text",placeholder:o.Postion.InputPlaceholder(),className:"input input-bordered w-full bg-opacity-0",onChange:function(e){var t=e.target.value.replace(/[^\d]/,"");P(t)},value:R}),(0,a.jsx)("span",{className:"",onClick:function(){return P(b)},children:o.Postion.MAX()})]}),(0,a.jsxs)("div",{className:"card-actions mt-5 grid grid-cols-2 gap-5",children:[(0,a.jsxs)("button",{className:["btn btn-md ",O?"loading":"",g<=0||g<R?"btn-primary":"btn-disabled"].join(" "),onClick:function(){u&&(U(!0),n.approve(G,Z).then((function(e){H(e.hash)})).catch((function(){U(!1),J.ZP.error("transaction failed")})))},children:[o.Postion.Approve()," TCP"]}),(0,a.jsx)("button",{className:["btn btn-md  ",Y?"loading":"",g>0&&g>=R?"btn-primary":"btn-disabled"].join(" "),onClick:function(){(0,K.UJ)(N)&&N&&N.toLowerCase()!=z?R?R<0?J.ZP.error(o.Postion.InputPlaceholder()):(X(!0),t.lock(u,(0,W.fi)(R.toString()),N,{value:W.fi(r)}).then((function(e){ne(e.hash)})).catch((function(){X(!1),J.ZP.error("transaction failed")}))):J.ZP.error(o.Postion.InputPlaceholder()):J.ZP.error(o.Postion.InviteLinkPlaceholder())},children:o.Postion.AddPosition()})]}),(0,a.jsxs)("ul",{className:"steps",children:[(0,a.jsx)("li",{className:["step",0==g||g<R?"step-primary":""].join(" ")}),(0,a.jsx)("li",{className:["step",g>0&&g>=R?"step-primary":""].join(" ")})]})]})]})})})},te=n(5104),ne=n(381),ae=n.n(ne);function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function se(e,t,n,a,i,s,r){try{var l=e[s](r),u=l.value}catch(o){return void n(o)}l.done?t(u):Promise.resolve(u).then(a,i)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var s=e.apply(t,n);function r(e){se(s,a,i,r,l,"next",e)}function l(e){se(s,a,i,r,l,"throw",e)}r(void 0)}))}}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,s=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(s.push(a.value),!t||s.length!==t);r=!0);}catch(u){l=!0,i=u}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return s}}(e,t)||oe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e){return function(e){if(Array.isArray(e))return ie(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||oe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){if(e){if("string"===typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}var ce=new _.r6(q),de=function(e){e.tcpPositionContract;var t=e.tcpTokenContract,n=e.c2cMarketContract,r=e.usdtTokenContract,l=e.fee,u=(0,i.Ge)(),o=(u.library,u.chainId,u.account),d=(u.error,(0,s.useContext)(A).LL),p=(0,s.useState)(0),y=p[0],m=(p[1],(0,s.useState)(0)),f=(m[0],m[1],(0,s.useState)(0)),h=f[0],v=f[1],x=(0,s.useState)(0),T=x[0],g=x[1],w=(0,s.useState)(0),j=(w[0],w[1]),N=(0,s.useState)(0),C=N[0],M=N[1],k=le(c("parent-address",null),2),S=(k[0],k[1],(0,s.useState)([])),E=S[0],I=S[1],R=(0,s.useState)([]),P=R[0],L=R[1],O=(0,s.useState)(-1),U=O[0],_=O[1];function F(){return H.apply(this,arguments)}function H(){return(H=re(b().mark((function e(){var t,n,a,i,s,r,l,u,o,c,d,p,y,m,f,h,v,x,T,g,w;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new te.zt(ce),e.next=3,t.init();case 3:return n=new te.CH(Y,B.Mt),a=n.advertiseIds(),e.t0=le,e.next=8,t.all([a]);case 8:for(e.t1=e.sent,i=(0,e.t0)(e.t1,1),s=i[0],r=[],l=0;l<s.length;l++)r.push(n.c2CAdvertiseMap(s[l]));if(!(r.length>0)){e.next=20;break}return e.next=16,t.all(r);case 16:for(u=e.sent,o=[],c=0;c<u.length;c++)d=u[c],p=d.id,y=d.owner,m=d.nickName,f=d.total,h=d.sold,v=d.price,x=d.min,T=d.max,g=d.sellToken,w=d.receiveToken,o.push({id:p.toNumber(),owner:y,name:m,turnover:parseFloat(W.dF(h)),price:parseFloat(W.dF(v)),total:parseFloat(W.dF(f.sub(h))),min:parseFloat(W.dF(x)),max:parseFloat(W.dF(T)),sellToken:g,receiveToken:w});I(ue(o));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return z.apply(this,arguments)}function z(){return(z=re(b().mark((function e(){var t,n,a,i,s,r,l,u,c,d,p,y,m,f,h,v,x,T,g,w,j,N;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new te.zt(ce),(0,te.M4)(1337,"0x5FbDB2315678afecb367f032d93F642f64180aa3"),e.next=4,t.init();case 4:return n=new te.CH(Y,B.Mt),a=n.ownerC2COrderIds(o),e.t0=le,e.next=9,t.all([a]);case 9:for(e.t1=e.sent,i=(0,e.t0)(e.t1,1),s=i[0],r=[],l=0;l<s.length;l++)u=s[l],c=n.c2COrderMap(u),r.push(c);return e.next=16,t.all(r);case 16:if(!((d=e.sent).length<=0)){e.next=19;break}return e.abrupt("return");case 19:for(d=d.reverse(),p=[],y=0;y<d.length;y++)m=d[y],p.indexOf(m.adId.toNumber())<0&&p.push(m.adId.toNumber());for(f=[],h=0;h<p.length;h++)f.push(n.c2CAdvertiseMap(p[h]));return e.next=26,t.all(f);case 26:for(v=e.sent,x=[],T=0;T<d.length;T++)g=d[T],w=g.adId,j=p.indexOf(w.toNumber()),N=v[j],x.push({createTime:new Date(parseInt(g.createTime+"000")),lumpSum:parseFloat(W.dF(g.amount)),price:parseFloat(W.dF(g.price)),total:parseFloat(W.dF(g.quantity)),otherName:N.nickName,otherAddress:N.owner});L(ue(x));case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,s.useEffect)((function(){F(),D()}),[]),(0,s.useEffect)((function(){r&&o&&(r.balanceOf(o).then((function(e){v(Number((0,W.bM)(e,18)))})),r.allowance(o,Y).then((function(e){g(Number((0,W.bM)(e,18)))})))}),[r,o]),(0,s.useEffect)((function(){t&&o&&(t.balanceOf(o).then((function(e){j(Number((0,W.bM)(e,$)))})),t.allowance(o,Y).then((function(e){M(Number((0,W.bM)(e,$)))})))}),[t,o]),(0,s.useEffect)((function(){var e=setInterval((function(){r&&o&&(r.balanceOf(o).then((function(e){v(Number((0,W.bM)(e,18)))})),r.allowance(o,Y).then((function(e){g(Number((0,W.bM)(e,18)))})))}),3e3),n=setInterval((function(){t&&o&&(t.balanceOf(o).then((function(e){j(Number((0,W.bM)(e,$)))})),t.allowance(o,Y).then((function(e){M(Number((0,W.bM)(e,$)))})))}),3e3);return function(){clearInterval(e),clearInterval(n)}}),[]);var G=(0,s.useState)(0),K=G[0],X=G[1],V=(0,s.useState)(),ee=V[0],ne=V[1];(0,s.useEffect)((function(){0==K&&F(),2==K&&D()}),[K]);var ie=(0,s.useState)(!1),se=ie[0],oe=ie[1],de=(0,s.useState)(""),pe=de[0],ye=de[1],me=U>=0&&ee?ee*E[U].price:0;(0,s.useEffect)((function(){T>=me&&oe(!1)}),[T]);var fe=(0,Q.$)({hash:pe,providerUrl:q});(0,s.useEffect)((function(){switch(fe.status){case"SUCCESS":J.ZP.success("transaction success");break;case"FAILED":oe(!1),J.ZP.error("transaction failed")}}),[fe.status]),(0,s.useEffect)((function(){ve&&(be(!1),ne(0),X(0))}),[y]);var he=(0,s.useState)(!1),ve=he[0],be=he[1],xe=(0,s.useState)(""),Te=xe[0],ge=xe[1],we=U<0?0:E[U].max>E[U].total?E[U].total:E[U].max,je=(0,Q.$)({hash:Te,providerUrl:q});return(0,s.useEffect)((function(){switch(console.log("transaction status",je),je.status){case"SUCCESS":be(!1),X(2),J.ZP.success("transaction success");break;case"FAILED":be(!1),J.ZP.error("transaction failed")}}),[je.status]),(0,a.jsx)("div",{className:"",children:(0,a.jsx)("div",{className:"mt-10 px-1",children:(0,a.jsxs)("div",{className:"w-full text-primary-content bg-opacity-10 glass rounded-box ",children:[(0,a.jsxs)("div",{className:"navbar pb-10",children:[(0,a.jsxs)("div",{className:"flex-1",onClick:function(){return X(0)},children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:0!=K?"h-5 w-5 m-1 ":"h-5 w-5 m-1 hidden",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),(0,a.jsx)("div",{className:"flex-1 ",children:(0,a.jsx)("h1",{className:"text-3xl",children:d.Recharge.Title()})})]}),(0,a.jsx)("div",{className:0==K?"flex":"hidden",onClick:function(){return X(2)},children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})})]}),(0,a.jsx)("div",{className:["grid pb-10 px-5",0!=K?"hidden":""].join(" "),children:(0,a.jsx)("div",{className:" bg-opacity-20 bg-neutral text-neutral-content shadow-2xl rounded-lg",children:E.map((function(e,n){return(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)("div",{className:"avatar online placeholder",children:(0,a.jsx)("div",{className:"bg-neutral-focus text-neutral-content rounded-full w-8",children:(0,a.jsx)("span",{className:"text-xl",children:e.name.substr(0,1)})})}),(0,a.jsx)("div",{className:"text-lg",children:e.name})]}),(0,a.jsxs)("div",{className:"text-sm text-slate-300",children:[d.Recharge.Turnover()," ",e.turnover]})]}),(0,a.jsxs)("div",{className:"text-lg pt-2 text-emerald-300",children:["$ ",(0,a.jsx)("span",{className:"text-3xl font-bold",children:e.price})]}),(0,a.jsxs)("div",{className:"text-sm pt-1",children:[(0,a.jsx)("span",{className:"text-slate-300",children:d.Recharge.Quantity()}),(0,a.jsxs)("span",{className:"ml-2",children:[e.total," TCP"]})]}),(e.min>0||e.max>0)&&(0,a.jsxs)("div",{className:"text-sm pt-1",children:[(0,a.jsx)("span",{className:"text-slate-300",children:d.Recharge.Quota()}),(0,a.jsxs)("span",{className:"ml-2",children:[e.min,"-",e.max," TCP"]})]}),(0,a.jsxs)("div",{className:"flex justify-between ",children:[(0,a.jsxs)("div",{className:"flex items-end text-emerald-300 text-sm",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"})}),(0,a.jsx)("span",{className:"text-slate-100",children:d.Recharge.Safety()})]}),o==e.owner&&C<=10&&(0,a.jsxs)("div",{onClick:function(){t.approve(Y,Z)},className:"btn btn-md",children:[d.Recharge.Allowed()," TCP"]}),(0,a.jsx)("div",{onClick:function(){_(n),X(1)},className:"btn btn-md",children:d.Recharge.Buy()})]}),(0,a.jsx)("div",{className:"divider"})]},n)}))})}),(0,a.jsxs)("div",{className:["grid pb-10 px-5 text-neutral-content",1!=K?"hidden":""].join(" "),children:[(0,a.jsxs)("div",{className:"flex justify-between ",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("div",{className:"avatar placeholder",children:(0,a.jsx)("div",{className:"bg-emerald-300 text-neutral-content rounded-full w-10 h-10",children:(0,a.jsx)("span",{className:"text-sm",children:"TCP"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-slate-200",children:d.Recharge.UnitPrice()}),(0,a.jsxs)("div",{className:"text-lg",children:["$ ",U>=0?E[U].price:0]})]})]}),(0,a.jsx)("div",{className:"divider divider-horizontal"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("div",{className:"avatar online placeholder",children:(0,a.jsx)("div",{className:"bg-neutral-focus text-neutral-content rounded-full w-10 h-10",children:(0,a.jsx)("span",{className:"text-sm",children:U>=0?E[U].name.substr(0,1):"\u5546\u5bb6"})})}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"flex items-center text-xs text-slate-200",children:[d.Recharge.BusinessNickname(),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 text-emerald-300",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"})})]}),(0,a.jsx)("div",{className:"text-lg",children:U>=0?E[U].name:"\u5546\u5bb6"})]})]})]}),(0,a.jsxs)("label",{className:"input-group bg-opacity-0 bg-neutral text-neutral-content mt-2",children:[(0,a.jsx)("input",{type:"text",placeholder:d.Recharge.InputPlaceholder(),className:"w-full text-white bg-transparent focus:border-none focus:outline-none placeholder:text-slate-200 text-4xl font-bold",onChange:function(e){var t=e.target.value.replace(/[^\d]/,"");ne(t)},value:ee}),(0,a.jsx)("span",{className:"bg-transparent",children:"TCP"}),(0,a.jsx)("div",{className:"divider divider-horizontal"}),(0,a.jsx)("span",{className:"bg-transparent text-primary-content",onClick:function(){return ne(we)},children:d.Recharge.MAX()})]}),(0,a.jsx)("div",{className:"divider m-0"}),(0,a.jsxs)("div",{className:"text-sm mt-1 text-slate-200",children:[(0,a.jsx)("span",{className:"",children:d.Recharge.AvailableBalance()}),(0,a.jsxs)("span",{className:"ml-2",children:[h," USDT"]})]}),U>=0&&(E[U].min>0||E[U].max>0)&&(0,a.jsxs)("div",{className:"text-sm mt-1 text-slate-200",children:[(0,a.jsx)("span",{className:"",children:d.Recharge.Quota()}),(0,a.jsxs)("span",{className:"ml-2",children:[U>=0?E[U].min:0,"-",U>=0?E[U].max:0," TCP"]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("span",{className:"text-2xl text-primary-content",children:d.Recharge.NeedToPay()}),(0,a.jsxs)("span",{className:"ml-2 text-slate-200",children:[me," USDT"]})]}),(0,a.jsxs)("div",{className:"card-actions mt-5 grid grid-cols-2 gap-5",children:[(0,a.jsxs)("button",{className:["btn btn-md ",se?"loading":"",T<=0||T<me?"btn-primary":"btn-disabled"].join(" "),onClick:function(){o&&(oe(!0),r.approve(Y,Z).then((function(e){ye(e.hash)})).catch((function(){oe(!1),J.ZP.error("transaction failed")})))},children:[d.Recharge.WithPermission()," USDT"]}),(0,a.jsxs)("button",{className:["btn btn-md  ",ve?"loading":"",T>0&&T>=me?"btn-primary":"btn-disabled"].join(" "),onClick:function(){ee?ee<0?J.ZP.error(d.Recharge.InputPlaceholder()):(be(!0),n.createC2COrder(E[U].id,W.fi(ee+""),{value:W.fi(l)}).then((function(e){ge(e.hash)})).catch((function(){be(!1),J.ZP.error("transaction failed")}))):J.ZP.error(d.Recharge.InputPlaceholder())},children:[d.Recharge.Buy(),"TCP"]})]}),(0,a.jsxs)("ul",{className:"steps",children:[(0,a.jsx)("li",{className:["step",0==T||T<me?"step-primary":""].join(" ")}),(0,a.jsx)("li",{className:["step",T>0&&T>=me?"step-primary":""].join(" ")})]}),(0,a.jsx)("div",{className:"divider"}),(0,a.jsxs)("div",{className:"mt-4 text-slate-300",children:[(0,a.jsx)("span",{className:"",children:d.Recharge.KindTips()}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"",children:d.Recharge.KindTipsContent()})]})]}),(0,a.jsx)("div",{className:["grid pb-10 px-5",2!=K?"hidden":""].join(" "),children:(0,a.jsx)("div",{className:"bg-opacity-20 bg-neutral text-neutral-content shadow-2xl rounded-lg",children:P.map((function(e,t){return(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsx)("div",{className:"flex justify-between",children:(0,a.jsxs)("div",{className:"flex gap-1 font-bold",children:[(0,a.jsx)("span",{className:"text-emerald-300",children:d.Recharge.Buy()}),(0,a.jsx)("span",{children:"TCP"})]})}),(0,a.jsxs)("div",{className:"flex flex-col mt-2 gap-1 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between w-full",children:[(0,a.jsx)("div",{className:"text-slate-200",children:d.Recharge.CreateTime()}),(0,a.jsx)("div",{children:ae()(e.createTime).format("YYYY-MM-DD HH:mm:ss")})]}),(0,a.jsxs)("div",{className:"flex justify-between w-full",children:[(0,a.jsx)("div",{className:"text-slate-200 ",children:d.Recharge.LumpSum()}),(0,a.jsxs)("div",{className:"font-bold",children:[e.lumpSum," USDT"]})]}),(0,a.jsxs)("div",{className:"flex justify-between w-full",children:[(0,a.jsx)("div",{className:"text-slate-200",children:d.Recharge.UnitPrice()}),(0,a.jsxs)("div",{children:[e.price," USDT"]})]}),(0,a.jsxs)("div",{className:"flex justify-between w-full",children:[(0,a.jsx)("div",{className:"text-slate-200",children:d.Recharge.Quantity()}),(0,a.jsxs)("div",{children:[e.total," TCP"]})]}),(0,a.jsxs)("div",{className:"flex justify-between w-full",children:[(0,a.jsx)("div",{className:"text-slate-200",children:d.Recharge.BusinessNickname()}),(0,a.jsx)("div",{children:e.otherName})]})]}),(0,a.jsx)("div",{className:"divider"})]},t)}))})})]})})})},pe=n(9361),ye=n.n(pe),me=n(640),fe=n.n(me);function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,s=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(s.push(a.value),!t||s.length!==t);r=!0);}catch(u){l=!0,i=u}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var be=function(e){var t=e.tcpPositionContract,n=(e.tcpTokenContract,(0,i.Ge)()),r=(n.library,n.chainId,n.account),l=(n.error,(0,s.useContext)(A).LL),u=(0,s.useState)(0),o=u[0],d=u[1],p=(0,s.useState)(0),y=p[0],m=p[1],f=(0,s.useState)(0),h=f[0],v=f[1],b=(0,s.useState)(0),x=b[0],T=b[1],g=ve(c("parent-address",null),2);g[0],g[1];(0,s.useEffect)((function(){t&&r&&t.getUserInfo(r).then((function(e){console.log(e.recommendUser),console.log(e.recommendReward),console.log(e.level),console.log(e.levelReward),d(Number(e.recommendUser)),m(Number((0,W.bM)(e.recommendReward,$))),v(Number(e.level)),T(Number((0,W.bM)(e.levelReward,$)))}))}),[t,r]),(0,s.useEffect)((function(){var e=setInterval((function(){t&&r&&(t.getUserInfo(r).then((function(e){console.log(e.recommendUser),console.log(e.recommendReward),console.log(e.level),console.log(e.levelReward),d(Number(e.recommendUser)),m(Number((0,W.bM)(e.recommendReward,$))),v(Number(e.level)),T(Number((0,W.bM)(e.levelReward,$)))})),console.log("tcpPositionContract.interval end"))}),3e3);return function(){return clearInterval(e)}}),[]);var w=(0,s.useState)(0),j=w[0],N=w[1];return(0,a.jsx)("div",{className:"",children:(0,a.jsx)("div",{className:"mt-10 px-1",children:(0,a.jsxs)("div",{className:"w-full text-primary-content bg-opacity-10 glass rounded-box ",children:[(0,a.jsxs)("div",{className:"navbar pb-10",onClick:function(){return N(0)},children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:0!=j?"h-5 w-5 m-1 ":"h-5 w-5 m-1 hidden",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),(0,a.jsx)("div",{className:"flex-1 ",children:(0,a.jsx)("h1",{className:"text-3xl",children:l.Community.Title()})})]}),(0,a.jsxs)("div",{className:["grid pb-10 px-5",0!=j?"hidden":""].join(" "),children:[(0,a.jsxs)("div",{className:"stats bg-opacity-20 bg-neutral text-neutral-content stats-vertical lg:stats-horizontal shadow-2xl",children:[(0,a.jsxs)("div",{className:"stat",children:[(0,a.jsx)("div",{className:"stat-title",children:l.Community.ReferralUser()}),(0,a.jsx)("div",{className:"stat-value",children:o}),(0,a.jsx)("div",{className:"stat-actions",children:(0,a.jsx)("button",{onClick:function(){return N(1)},className:"btn ",children:l.Community.Invite()})})]}),(0,a.jsxs)("div",{className:"stat",children:[(0,a.jsx)("div",{className:"stat-title",children:l.Community.ReferralReward()}),(0,a.jsx)("div",{className:"stat-value",children:y.toString().match(/^\d+(?:\.\d{0,5})?/)})]})]}),(0,a.jsxs)("div",{className:"stats bg-opacity-20 bg-neutral text-neutral-content stats-vertical lg:stats-horizontal shadow-2xl",children:[(0,a.jsxs)("div",{className:"stat",children:[(0,a.jsx)("div",{className:"stat-title",children:l.Community.MarkerLevel()}),(0,a.jsx)("div",{className:"stat-value",children:h})]}),(0,a.jsxs)("div",{className:"stat",children:[(0,a.jsx)("div",{className:"stat-title",children:l.Community.MarkerReward()}),(0,a.jsx)("div",{className:"stat-value",children:x.toString().match(/^\d+(?:\.\d{0,5})?/)})]})]})]}),(0,a.jsx)("div",{className:["grid pb-10 px-5",1!=j?"hidden":""].join(" "),children:(0,a.jsxs)("div",{className:"card-body items-center",children:[(0,a.jsx)("h2",{className:"card-title",children:l.Community.Scanit()}),(0,a.jsx)("figure",{className:"",children:(0,a.jsx)(ye(),{value:window.location.origin+"?address="+r,size:225,fgColor:"#000000",imageSettings:{src:"/icon.png",height:20,width:20,excavate:!0},className:"rounded-xl"})}),(0,a.jsx)("h2",{className:"card-title",children:l.Community.CopyLink()}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("div",{className:"whitespace-pre-line break-all underline text-white",children:window.location.origin+"?address="+r})}),(0,a.jsx)("div",{className:"card-actions",children:(0,a.jsx)("button",{className:"btn ",onClick:function(){fe()(window.location.origin+"?address="+r),J.ZP.success(l.Community.CopySuccess())},children:l.Community.Copy()})})]})})]})})})},xe=function(e){var t=e.tcpPositionContract,n=(e.tcpTokenContract,e.fee),r=(0,i.Ge)(),l=(r.library,r.chainId,r.account),u=(r.error,(0,s.useContext)(A).LL),o=(0,s.useState)(0),c=o[0],d=o[1],p=(0,s.useState)(0),y=p[0],m=p[1];(0,s.useEffect)((function(){t&&l&&(t.getWaitHarvest(l).then((function(e){return d(Number((0,W.bM)(e,$)))})),t.userInfos(l).then((function(e){return m(Number((0,W.bM)(e.harvestAmount,$)))})))}),[t,l]),(0,s.useEffect)((function(){var e=setInterval((function(){console.log("tcpPositionContract.interval start"),t&&l&&(t.getWaitHarvest(l).then((function(e){return d(Number((0,W.bM)(e,$)))})),t.userInfos(l).then((function(e){return m(Number((0,W.bM)(e.harvestAmount,$)))})),console.log("tcpPositionContract.interval end"))}),3e3);return function(){return clearInterval(e)}}),[]);var f=(0,s.useState)(!1),h=f[0],v=f[1],b=(0,s.useState)(""),x=b[0],T=b[1],g=(0,Q.$)({hash:x,providerUrl:q}),w=(0,s.useState)(0),j=w[0],N=w[1];(0,s.useEffect)((function(){h&&j>c&&v(!1),M&&j>c&&k(!1),N(c)}),[c]),(0,s.useEffect)((function(){switch(g.status){case"SUCCESS":break;case"FAILED":v(!1),J.ZP.error("transaction failed")}}),[g.status]);var C=(0,s.useState)(!1),M=C[0],k=C[1],S=(0,s.useState)(""),E=S[0],I=S[1],R=(0,Q.$)({hash:E,providerUrl:q});(0,s.useEffect)((function(){switch(R.status){case"SUCCESS":break;case"FAILED":v(!1),J.ZP.error("transaction failed")}}),[R.status]);return(0,a.jsx)("div",{className:"",children:(0,a.jsx)("div",{className:"mt-10 px-1",children:(0,a.jsxs)("div",{className:"w-full text-primary-content bg-opacity-10 glass rounded-box ",children:[(0,a.jsx)("div",{className:"navbar pb-10 ",children:(0,a.jsx)("div",{className:"flex-1 ",children:(0,a.jsx)("h1",{className:"text-3xl",children:u.Interest.Title()})})}),(0,a.jsx)("div",{className:" grid pb-10 px-5",children:(0,a.jsxs)("div",{className:"stats bg-opacity-20 bg-neutral text-neutral-content stats-vertical lg:stats-horizontal shadow-2xl",children:[(0,a.jsxs)("div",{className:"stat",children:[(0,a.jsx)("div",{className:"stat-title",children:u.Interest.ReceiveInterest()}),(0,a.jsx)("div",{className:"stat-value",children:c.toString().match(/^\d+(?:\.\d{0,5})?/)}),(0,a.jsxs)("div",{className:"stat-actions space-x-5",children:[(0,a.jsx)("button",{className:["btn btn-md",h?"loading":"",c<=0?"btn-disabled":""].join(" "),onClick:function(){!c||c<=0?J.ZP.error(u.Postion.InputPlaceholder()):(v(!0),t.harvest({value:W.fi(n)}).then((function(e){T(e.hash)})).catch((function(e){v(!1),console.log(e),J.ZP.error("transaction failed")})))},children:u.Interest.Receive()}),(0,a.jsx)("button",{className:["btn btn-md",M?"loading":"",c<=0?"btn-disabled":""].join(" "),onClick:function(){!c||c<=0?J.ZP.error(u.Interest.ReceiveInterestZero()):(k(!0),t.relock({value:W.fi(n)}).then((function(e){I(e.hash)})).catch((function(){k(!1),J.ZP.error("transaction failed")})))},children:u.Interest.Reinvest()})]})]}),(0,a.jsxs)("div",{className:"stat",children:[(0,a.jsx)("div",{className:"stat-title",children:u.Interest.ReceivedInterest()}),(0,a.jsx)("div",{className:"stat-value",children:y.toString().match(/^\d+(?:\.\d{0,5})?/)})]})]})})]})})})},Te=function(){var e=(0,s.useState)(0),t=e[0],n=e[1],i=(0,s.useState)([{img:"/ad/4de7c2275f921e919fa4d67b1dd991de.jpg",url:"https://1xbit1.com/cn/line?tag=d_33760m_1732c_2745fc76e8799f44232",time:2e3}]),r=i[0],l=i[1];return(0,s.useEffect)((function(){fetch("/ad.json",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){l(e)}))}),[]),(0,s.useEffect)((function(){if(r){var e=r[t].time;setTimeout((function(){var e=t+1;e>=r.length?n(0):n(e)}),e)}}),[r,t]),(0,a.jsx)("div",{className:"w-full mt-5 px-1",children:(0,a.jsxs)("div",{className:"w-full h-full rounded relative",children:[(0,a.jsx)("div",{className:"absolute bg-white text-sky-400 text-sm right-0 top-0",children:"Google \u5e7f\u544a "}),(0,a.jsx)("a",{href:r[t].url,target:"_blank",children:(0,a.jsx)("img",{src:r[t].img,className:"w-full h-36",alt:""})})]})})},ge=function(e){var t=e.index,n=(0,s.useState)(),r=n[0],l=n[1],u=(0,s.useState)(),o=u[0],c=u[1],d=(0,s.useState)(),p=d[0],y=d[1],m=(0,s.useState)(),f=m[0],h=m[1],v=(0,s.useState)("0"),b=v[0],x=v[1],T=(0,i.Ge)(),g=T.library;T.chainId,T.account,T.error;(0,s.useEffect)((function(){l(w()),c(N()),y(C()),h(j())}),[g]),(0,s.useEffect)((function(){fetch("/fortcp.json",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){x(e.fee)}))}),[]);var w=function(){var e=g&&new _.Qg(window.ethereum);if(e){var t=e.getSigner();return new F.CH(G,H.Mt,t)}},j=function(){var e=g&&new _.Qg(window.ethereum);if(e){var t=e.getSigner();return new F.CH(Y,B.Mt,t)}},N=function(){var e=g&&new _.Qg(window.ethereum);if(e){var t=e.getSigner();return new F.CH("0xC26A2BB245E0bceD2C2a2671391507fae3630846",D.Mt,t)}},C=function(){var e=g&&new _.Qg(window.ethereum);if(e){var t=e.getSigner();return new F.CH("0x55d398326f99059fF775485246999027B3197955",D.Mt,t)}};return(0,a.jsxs)("div",{className:"pb-20 lg:w-4/6 mx-auto",children:[0==t&&(0,a.jsx)(ee,{tcpPositionContract:r,tcpTokenContract:o,fee:b}),1==t&&(0,a.jsx)(xe,{tcpPositionContract:r,tcpTokenContract:o,fee:b}),2==t&&(0,a.jsx)(be,{tcpPositionContract:r,tcpTokenContract:o}),3==t&&(0,a.jsx)(de,{tcpPositionContract:r,tcpTokenContract:o,c2cMarketContract:f,usdtTokenContract:p,fee:b}),(0,a.jsx)(Te,{})]})},we=function(e){var t=e.index,n=e.setIndex,i=(0,s.useContext)(A).LL;return(0,a.jsxs)("div",{className:"tabs tabs-boxed grid grid-cols-4 content-center content-primary-content bg-opacity-30 text-primary-content fixed bottom-5 left-3 right-3 lg:bottom-20 lg:left-1/3 lg:right-1/3",children:[(0,a.jsx)("a",{onClick:function(){n(0)},className:["tab",0==t?"tab-active":""].join(" "),children:i.Footer.Postion()}),(0,a.jsx)("a",{onClick:function(){n(1)},className:["tab",1==t?"tab-active":""].join(" "),children:i.Footer.Interest()}),(0,a.jsx)("a",{onClick:function(){n(3)},className:["tab",3==t?"tab-active":""].join(" "),children:i.Footer.Recharge()}),(0,a.jsx)("a",{onClick:function(){n(2)},className:["tab",2==t?"tab-active":""].join(" "),children:i.Footer.Community()})]})},je=n(9008);function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,s=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(s.push(a.value),!t||s.length!==t);r=!0);}catch(u){l=!0,i=u}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Me=function(){var e=Ce(c("language","en"),2),t=e[0];e[1];(0,s.useEffect)((function(){var e=new URLSearchParams(window.location.search).get("address");e&&o(e)}),[]);(0,s.useContext)(A).LL;var n=(0,s.useState)(0),r=n[0],l=n[1],u=Ce(c("parent-address",null),2),o=(u[0],u[1]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(je.default,{children:[(0,a.jsx)("title",{children:"TCP GLOBAL"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width,initial-scale=1.0,user-scalable=no"})]}),(0,a.jsx)(i.Ht,{getLibrary:O,children:(0,a.jsxs)(E,{initialLocale:t,children:[(0,a.jsx)(J.x7,{position:"top-right",reverseOrder:!0}),(0,a.jsxs)("div",{className:"container min-h-screen max-w-full bg-gradient-to-br from-pink-300 to-blue-900 relative",children:[(0,a.jsx)(U,{}),(0,a.jsx)(ge,{index:r}),(0,a.jsx)(we,{index:r,setIndex:l})]})]})})]})}},6601:function(){}},function(e){e.O(0,[885,877,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);