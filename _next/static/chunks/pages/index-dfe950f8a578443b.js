(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(8067)}])},8067:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Me}});var a=n(5893),s=n(9795),i=n(7294),r=n(241),l=n(950),o=n(3929),u=new l._k({supportedChainIds:[56,1337]}),c=new o.zw({rpc:{1:"https://eth.alchemyapi.io/v2/<YOUR ALCHEMY KEY>",3:"https://eth-ropsten.alchemyapi.io/v2/<YOUR ALCHEMY KEY>",4:"https://eth-rinkeby.alchemyapi.io/v2/<YOUR ALCHEMY KEY>",1337:"http://127.0.0.1:8545/"},qrcode:!0}),d=n(2043),p=n.n(d),m={warn:p().warn,debug:p().debug,info:p().info,error:p().error,trace:p().trace,setLevel:p().setLevel};function y(e,t,n){var a=(0,i.useRef)();(0,i.useEffect)((function(){var s=(null===n||void 0===n?void 0:n.current)||window;if(s&&s.addEventListener){a.current!==t&&(a.current=t);var i=function(e){(null===a||void 0===a?void 0:a.current)&&a.current(e)};return s.addEventListener(e,i),function(){s.removeEventListener(e,i)}}}),[e,n,t])}var f=function(e,t){var n=function(){try{var n=window.localStorage.getItem(e);return n?function(e){try{return"undefined"===e?void 0:JSON.parse(null!==e&&void 0!==e?e:"")}catch(t){return void console.log("parsing error on",{value:e})}}(n):t}catch(a){return console.warn("Error reading localStorage key \u201c".concat(e,"\u201d:"),a),t}},a=(0,i.useState)(n),s=a[0],r=a[1];(0,i.useEffect)((function(){r(n())}),[]);var l=function(){r(n())};return y("storage",l),y("local-storage",l),[s,function(t){try{var n=(a=t,(null!=(i=Function)&&"undefined"!==typeof Symbol&&i[Symbol.hasInstance]?i[Symbol.hasInstance](a):a instanceof i)?t(s):t);window.localStorage.setItem(e,JSON.stringify(n)),r(n),window.dispatchEvent(new Event("local-storage"))}catch(l){console.warn("Error setting localStorage key \u201c".concat(e,"\u201d:"),l)}var a,i}]};var h=n(3996),v=n(4051),x=n.n(v),b=n(2117);n(6094);function w(e,t,n,a,s,i,r){try{var l=e[i](r),o=l.value}catch(u){return void n(u)}l.done?t(o):Promise.resolve(o).then(a,s)}var g=function(){var e,t=(e=x().mark((function e(t){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function r(e){w(i,a,s,r,l,"next",e)}function l(e){w(i,a,s,r,l,"throw",e)}r(void 0)}))});return function(e){return t.apply(this,arguments)}}();function T(e,t,n,a,s,i,r){try{var l=e[i](r),o=l.value}catch(u){return void n(u)}l.done?t(o):Promise.resolve(o).then(a,s)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function r(e){T(i,a,s,r,l,"next",e)}function l(e){T(i,a,s,r,l,"throw",e)}r(void 0)}))}}var N="en",C=((0,b.u4)(),{cht:function(){return n.e(150).then(n.bind(n,150))},en:function(){return n.e(481).then(n.bind(n,481))}}),M=function(){var e=j(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(C[t]||C[N])();case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=(function(){var e=j(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b.Xl,e.t1=t,e.next=4,g(t);case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})))}(),(0,h.n)(N,M,g)),S=k.component,A=k.context,E=S;function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function R(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(o){l=!0,s=o}finally{try{r||null==n.return||n.return()}finally{if(l)throw s}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e){var t=(0,i.useContext)(A).LL;return R(e,l.A5)?t.Error.NoEthereumProviderError():R(e,s.Uu)?t.Error.UnsupportedChainIdError():R(e,l.ab)||R(e,o.ab)?t.Error.UserRejectedRequestErrorInjected():(m.error(e),t.Error.UnknownError())}function O(e){var t=new r.Q(e);return t.pollingInterval=12e3,t}var U=function(){var e=function(e){var t=!!e.srcElement&&e.srcElement.documentElement.scrollTop||window.pageYOffset||(e.srcElement?e.srcElement.body.scrollTop:0);t>0&&t<=50?B(!0):t>50&&B(!1)},t=(0,i.useContext)(A).LL,n=(0,s.Ge)(),r=n.connector,l=(n.library,n.account),o=n.activate,d=(n.deactivate,n.active,n.error),p=P(f("theme","synthwave"),2),y=p[0],h=(p[1],P(f("language","en"),2)),v=(h[0],h[1]),x=(0,i.useContext)(A),b=(x.locale,x.isLoadingLocale,x.setLocale),w=(0,i.useState)(),g=w[0],T=w[1],j=(0,i.useState)(!1),N=j[0],C=j[1];(0,i.useEffect)((function(){g&&g===r&&T(void 0)}),[g,r]),(0,i.useEffect)((function(){o(u)}),[]),(0,i.useEffect)((function(){console.log("data-theme:",y),document.documentElement.setAttribute("data-theme",y)}),[]),(0,i.useEffect)((function(){C(!!d)}),[d]);var M=function(){var e=(0,s.Ge)(),t=e.activate,n=e.active,a=(0,i.useState)(!1),r=a[0],l=a[1];return(0,i.useEffect)((function(){u.isAuthorized().then((function(e){e?t(u,void 0,!0).catch((function(){l(!0)})):l(!0)}))}),[]),(0,i.useEffect)((function(){!r&&n&&l(!0)}),[r,n]),r}();!function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,s.Ge)(),n=t.active,a=t.error,r=t.activate;(0,i.useEffect)((function(){var t=window.ethereum;if(t&&t.on&&!n&&!a&&!e){var s=function(){m.warn("Handling 'connect' event"),r(u)},i=function(e){m.warn("Handling 'chainChanged' event with payload",e),r(u)},l=function(e){m.warn("Handling 'accountsChanged' event with payload",e),e.length>0&&r(u)},o=function(e){m.warn("Handling 'networkChanged' event with payload",e),r(u)};return t.on("connect",s),t.on("chainChanged",i),t.on("accountsChanged",l),t.on("networkChanged",o),function(){t.removeListener&&(t.removeListener("connect",s),t.removeListener("chainChanged",i),t.removeListener("accountsChanged",l),t.removeListener("networkChanged",o))}}}),[n,a,e,r])}(!M||!!g);var k=function(e){return e===r},S=(!M||!!g||k(u)||k(c),(0,i.useState)(!1)),E=(S[0],S[1]),I=(0,i.useState)(!0),R=(I[0],I[1]),O=(0,i.useState)(!0),U=O[0],_=O[1];(0,i.useEffect)((function(){setTimeout((function(){return E(!0)}),2e3),setTimeout((function(){return R(!0)}),4e3)}),[]);var F=(0,i.useState)(!0),H=F[0],B=F[1];return(0,i.useEffect)((function(){window.addEventListener("scroll",e)}),[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"sticky top-0 z-30 flex h-16 w-full justify-center bg-opacity-90 backdrop-blur transition-all duration-100 text-primary-content",children:(0,a.jsxs)("nav",{className:[H?"":"bg-base-100 text-base-content","navbar","w-full"].join(" "),children:[(0,a.jsx)("div",{className:"navbar-start",children:(0,a.jsx)("a",{href:"/",className:["btn btn-ghost normal-case text-xl animate-pulse duration-2000",H?"":"bg-clip-text text-transparent bg-gradient-to-r from-pink-300 to-blue-500"].join(" "),children:"TCP GlOBAL"})}),(0,a.jsxs)("div",{className:"flex-0 navbar-end",children:[(0,a.jsx)("div",{className:"flex-none ",children:(0,a.jsxs)("a",{className:"btn btn-ghost drawer-button normal-case",onClick:function(){T(u),o(u)},children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),l?l.substring(0,6)+"..."+l.substring(l.length-4):t.Head.ConnectWallet()]})}),(0,a.jsx)("div",{className:"flex-none",children:(0,a.jsx)("button",{className:"btn btn-square btn-ghost",onClick:function(){_(!0)},children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 110-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 01-1.44-4.282m3.102.069a18.03 18.03 0 01-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 018.835 2.535M10.34 6.66a23.847 23.847 0 008.835-2.535m0 0A23.74 23.74 0 0018.795 3m.38 1.125a23.91 23.91 0 011.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 001.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 010 3.46"})})})}),(0,a.jsxs)("div",{title:"Language",className:"dropdown dropdown-end ",children:[(0,a.jsxs)("div",{tabIndex:0,className:"btn gap-2 normal-case btn-ghost",children:[(0,a.jsx)("svg",{width:"20",height:"20",className:"inline-block h-5 w-5 stroke-current md:h-6 md:w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})}),(0,a.jsx)("span",{className:"hidden md:inline",children:"Language"}),(0,a.jsx)("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1792 1792",className:"ml-1 inline-block h-4 w-4 fill-current",children:(0,a.jsx)("path",{d:"M1395 736q0 13-10 23l-466 466q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l393 393 393-393q10-10 23-10t23 10l50 50q10 10 10 23z"})})]}),(0,a.jsx)("div",{className:"dropdown-content bg-base-200 text-base-content rounded-t-box rounded-b-box top-px w-52 overflow-y-auto shadow-2xl mt-16",children:(0,a.jsxs)("ul",{className:"menu menu-compact p-4",tabIndex:0,children:[(0,a.jsx)("li",{onClick:function(e){b("en"),v("en")},children:(0,a.jsx)("button",{children:"\ud83c\uddec\ud83c\udde7 English"})}),(0,a.jsx)("li",{onClick:function(e){b("cht"),v("cht")},children:(0,a.jsx)("button",{children:"\ud83c\udde8\ud83c\uddf3 \u4e2d\u6587\u7e41\u4f53"})})]})})]})]})]})}),(0,a.jsx)("div",{id:"my-modal",className:N?"modal modal-open":"modal",children:(0,a.jsxs)("div",{className:"modal-box",children:[(0,a.jsxs)("p",{children:[d?L(d):"",(0,a.jsx)("a",{href:"https://chainnugget.com/u/tcpglobal/discussions",target:"_blank",className:"link link-primary",children:t.Footer.Help()})]}),(0,a.jsx)("div",{className:"modal-action",children:(0,a.jsx)("a",{onClick:function(){return C(!1)},className:"btn",children:t.Btn.Close()})})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"checkbox",id:"my-modal1",className:"modal-toggle",checked:U}),(0,a.jsx)("div",{className:"modal",children:(0,a.jsxs)("div",{className:"modal-box",children:[(0,a.jsx)("h3",{className:"font-bold text-lg",children:t.Head.NoticeTitle()}),(0,a.jsx)("p",{className:"py-4",children:t.Head.NoticeContent()}),(0,a.jsx)("div",{className:"modal-action",children:(0,a.jsx)("label",{className:"btn",onClick:function(){_(!1)},children:"\u786e\u8ba4"})})]})})]})]})},_=n(1438),F=n(4176),H=JSON.parse('{"Mt":[{"inputs":[{"internalType":"address","name":"dataToChainAddress","type":"address"},{"internalType":"contract IERC20","name":"token","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_from","type":"address"},{"indexed":false,"internalType":"uint256","name":"_value","type":"uint256"}],"name":"Harvest","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_from","type":"address"},{"indexed":false,"internalType":"uint256","name":"_value","type":"uint256"}],"name":"HarvestUnlockAmount","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_from","type":"address"},{"indexed":true,"internalType":"address","name":"_to","type":"address"},{"indexed":false,"internalType":"uint256","name":"_value","type":"uint256"}],"name":"LevelReward","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_to","type":"address"},{"indexed":false,"internalType":"uint256","name":"_value","type":"uint256"}],"name":"LevelUp","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_from","type":"address"},{"indexed":false,"internalType":"uint256","name":"_value","type":"uint256"}],"name":"LockPosition","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_from","type":"address"},{"indexed":true,"internalType":"address","name":"_to","type":"address"},{"indexed":false,"internalType":"uint256","name":"_value","type":"uint256"}],"name":"RecommendReward","type":"event"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"_assessLevel","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_cycleTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_dataToChain","outputs":[{"internalType":"contract DataToChain","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_halveTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_harvestFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"userAddress","type":"address"}],"name":"_isActive","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"_isMiner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_levelOneLockAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"_levelRates","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_secondsRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_token","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimalsUnit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"defaultParent","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"userAddress","type":"address"}],"name":"getLockAmount","outputs":[{"internalType":"uint256","name":"lockAmount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"userAddress","type":"address"}],"name":"getParentAddress","outputs":[{"internalType":"address","name":"parentAddress","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"userAddress","type":"address"}],"name":"getRecommendAccounts","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"userAddress","type":"address"}],"name":"getUnlockAmount","outputs":[{"internalType":"uint256","name":"unlockAmount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"getUserInfo","outputs":[{"internalType":"address","name":"parentAddress","type":"address"},{"internalType":"uint256","name":"harvestTime","type":"uint256"},{"internalType":"uint256","name":"lockAmount","type":"uint256"},{"internalType":"uint256","name":"harvestAmount","type":"uint256"},{"internalType":"uint256","name":"recommendUser","type":"uint256"},{"internalType":"uint256","name":"recommendReward","type":"uint256"},{"internalType":"uint256","name":"level","type":"uint256"},{"internalType":"uint256","name":"levelReward","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"userAddress","type":"address"},{"internalType":"uint256","name":"unlockTime","type":"uint256"}],"name":"getUserUnlockTimeAndAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"userAddress","type":"address"}],"name":"getUserUnlockTimeAndAmountKeys","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"userAddress","type":"address"}],"name":"getWaitHarvest","outputs":[{"internalType":"uint256","name":"waitHarvest","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"harvest","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"harvestUnlockAmount","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"inviteRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"msgSender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"parent","type":"address"}],"name":"lock","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"lockByMiner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"lockInit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"relock","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"replaceFromAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"replaceToAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"con","type":"address"},{"internalType":"address","name":"addr","type":"address"},{"internalType":"uint256","name":"fee","type":"uint256"}],"name":"returnTransferIn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"leves","type":"uint256[]"}],"name":"setAssessLevel","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"parent","type":"address"}],"name":"setDefaultParentAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"time","type":"uint256"}],"name":"setHalveTime","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"rate","type":"uint256"}],"name":"setHarvestFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"rate","type":"uint256[]"}],"name":"setInviteRate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"levelOneLockAmount","type":"uint256"}],"name":"setLevelOneLockAmount","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"levesRate","type":"uint256[]"}],"name":"setLevesRate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"minerAddress","type":"address"},{"internalType":"bool","name":"isMiner","type":"bool"}],"name":"setMiner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"address","name":"parent","type":"address"}],"name":"setParentAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"}],"name":"setReplaceAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"_unlockTime","type":"uint256"}],"name":"unlockByTime","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"userInfos","outputs":[{"internalType":"address","name":"parentAddress","type":"address"},{"internalType":"uint256","name":"harvestTime","type":"uint256"},{"internalType":"uint256","name":"lockAmount","type":"uint256"},{"internalType":"uint256","name":"harvestAmount","type":"uint256"},{"internalType":"uint256","name":"recommendReward","type":"uint256"},{"internalType":"uint256","name":"level","type":"uint256"},{"internalType":"uint256","name":"levelReward","type":"uint256"}],"stateMutability":"view","type":"function"},{"stateMutability":"payable","type":"receive"}]}'),B=JSON.parse('{"Mt":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"string","name":"nickName","type":"string"},{"indexed":false,"internalType":"uint256","name":"total","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"min","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"max","type":"uint256"},{"indexed":true,"internalType":"address","name":"sellToken","type":"address"},{"indexed":false,"internalType":"address","name":"receiveToken","type":"address"}],"name":"AddC2CAdvertised","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"uint256","name":"adId","type":"uint256"},{"indexed":false,"internalType":"address","name":"seller","type":"address"},{"indexed":false,"internalType":"uint256","name":"quantity","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"createTime","type":"uint256"}],"name":"AddC2COrderd","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operate","type":"address"},{"indexed":true,"internalType":"uint256","name":"factor","type":"uint256"}],"name":"AddOperated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"}],"name":"RemoveC2CAdvertised","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"}],"name":"RemoveC2COrderd","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operate","type":"address"}],"name":"RemoveOperated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"previousAdminRole","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"newAdminRole","type":"bytes32"}],"name":"RoleAdminChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleGranted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleRevoked","type":"event"},{"inputs":[],"name":"ADVERTISE_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DEFAULT_ADMIN_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"FEE_FACTOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MINTER_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"OPERATE_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"PAUSER_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"string","name":"nickName","type":"string"},{"internalType":"uint256","name":"total","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"min","type":"uint256"},{"internalType":"uint256","name":"max","type":"uint256"},{"internalType":"address","name":"sellToken","type":"address"},{"internalType":"address","name":"receiveToken","type":"address"}],"name":"addC2CAdvertise","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"advertiseAt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"advertiseIds","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"advertiseLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"c2CAdvertiseMap","outputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"string","name":"nickName","type":"string"},{"internalType":"uint256","name":"total","type":"uint256"},{"internalType":"uint256","name":"sold","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"min","type":"uint256"},{"internalType":"uint256","name":"max","type":"uint256"},{"internalType":"address","name":"sellToken","type":"address"},{"internalType":"address","name":"receiveToken","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"c2COrderMap","outputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"adId","type":"uint256"},{"internalType":"address","name":"seller","type":"address"},{"internalType":"uint256","name":"quantity","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"createTime","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"adId","type":"uint256"},{"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"createC2COrder","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"string","name":"nickName","type":"string"},{"internalType":"uint256","name":"total","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"min","type":"uint256"},{"internalType":"uint256","name":"max","type":"uint256"}],"name":"editC2CAdvertise","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"factor","type":"uint256"}],"name":"editFeeFactor","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operate","type":"address"},{"internalType":"uint256","name":"factor","type":"uint256"}],"name":"editOperate","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleAdmin","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"getRoleMember","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleMemberCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"grantRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"hasRole","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"idOfOrderIds","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"operateAt","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"operateIds","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"operateLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"operateMapFactor","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"orderAt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"orderIds","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"orderLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"ownerC2COrderIds","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"ownerC2COrderLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"ownerC2COrderMap","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"name":"removeC2CAdvertise","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"operate","type":"address"}],"name":"removeOperate","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"renounceRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"revokeRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"}]}'),Z=JSON.parse('{"Mt":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]}'),z=n(4322).O$.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff").toBigInt(),D="0x0000000000000000000000000000000000000000",G="0x77d34de33a75ac2a772f8C47080c0232Cbff463B",Y="0x63495299E94E8A8c05236Aa6EbB02B2054F75536",$=18,q="https://bsc-dataseed1.ninicoin.io",W=n(9386),Q=n(2888),J=n(4931),K=n(4982);function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(o){l=!0,s=o}finally{try{r||null==n.return||n.return()}finally{if(l)throw s}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ee=function(e){var t=e.tcpPositionContract,n=e.tcpTokenContract,r=e.fee,l=(0,s.Ge)(),o=(l.library,l.chainId,l.account),u=(l.error,(0,i.useContext)(A).LL),c=(0,i.useState)(0),d=c[0],p=c[1],m=(0,i.useState)(0),y=m[0],h=m[1],v=(0,i.useState)(0),x=v[0],b=v[1],w=(0,i.useState)(0),g=w[0],T=w[1],j=V(f("parent-address",null),2),N=j[0],C=j[1];(0,i.useEffect)((function(){t&&o&&(console.log("tcpPositionContract:",t),console.log("account:",o),t.getLockAmount(o).then((function(e){return p(Number((0,W.bM)(e,$)))})),t.getUnlockAmount(o).then((function(e){return h(Number((0,W.bM)(e,$)))})),t.getParentAddress(o).then((function(e){e.toLowerCase()!=D&&C(e)})))}),[t,o]),(0,i.useEffect)((function(){var e=setInterval((function(){console.log("tcpPositionContract.interval"),t&&o&&(t.getLockAmount(o).then((function(e){return p(Number((0,W.bM)(e,$)))})),t.getUnlockAmount(o).then((function(e){return h(Number((0,W.bM)(e,$)))})))}),3e3);return function(){return clearInterval(e)}}),[]),(0,i.useEffect)((function(){n&&o&&(n.balanceOf(o).then((function(e){b(Number((0,W.bM)(e,$)))})),n.allowance(o,G).then((function(e){T(Number((0,W.bM)(e,$)))})))}),[n,o]),(0,i.useEffect)((function(){var e=setInterval((function(){console.log("tcpTokenContract.interval"),n&&o&&(n.balanceOf(o).then((function(e){b(Number((0,W.bM)(e,$)))})),n.allowance(o,G).then((function(e){T(Number((0,W.bM)(e,$)))})))}),3e3);return function(){return clearInterval(e)}}),[]);var M=function(){t&&(y<=0||t.harvestUnlockAmount().then((function(){t.getUnlockAmount(o).then((function(e){return h(Number((0,W.bM)(e,$)))}))})))},k=(0,i.useState)(0),S=k[0],E=k[1],I=(0,i.useState)(0),R=I[0],P=I[1],L=(0,i.useState)(!1),O=L[0],U=L[1],_=(0,i.useState)(""),F=_[0],H=_[1];(0,i.useEffect)((function(){g>=R&&U(!1)}),[g]);var B=(0,Q.$)({hash:F,providerUrl:q});(0,i.useEffect)((function(){switch(B.status){case"SUCCESS":break;case"FAILED":U(!1),J.ZP.error("transaction failed")}}),[B.status]),(0,i.useEffect)((function(){Y&&(X(!1),P(0),E(0))}),[d]);var Z=(0,i.useState)(!1),Y=Z[0],X=Z[1],ee=(0,i.useState)(""),te=ee[0],ne=ee[1],ae=(0,Q.$)({hash:te,providerUrl:q});return(0,i.useEffect)((function(){switch(ae.status){case"SUCCESS":break;case"FAILED":X(!1),J.ZP.error("transaction failed")}}),[ae.status]),(0,a.jsx)("div",{className:"",children:(0,a.jsx)("div",{className:"mt-10 px-1",children:(0,a.jsxs)("div",{className:"w-full text-primary-content bg-opacity-10 glass rounded-box ",children:[(0,a.jsxs)("div",{className:"navbar pb-10",onClick:function(){return E(0)},children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:0!=S?"h-5 w-5 m-1 ":"h-5 w-5 m-1 hidden",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),(0,a.jsx)("div",{className:"flex-1 ",children:(0,a.jsx)("h1",{className:"text-3xl",children:u.Postion.Title()})})]}),(0,a.jsx)("div",{className:["grid pb-10 px-5",0!=S?"hidden":""].join(" "),children:(0,a.jsxs)("div",{className:"stats bg-opacity-20 bg-neutral text-neutral-content stats-vertical lg:stats-horizontal shadow-2xl",children:[(0,a.jsxs)("div",{className:"stat",children:[(0,a.jsx)("div",{className:"stat-title",children:u.Postion.PositionBalance()}),(0,a.jsx)("div",{className:"stat-value",children:d.toString().match(/^\d+(?:\.\d{0,5})?/)}),(0,a.jsx)("div",{className:"stat-actions",children:(0,a.jsx)("button",{className:"btn btn-md",onClick:function(){return E(1)},children:u.Postion.AddPosition()})})]}),(0,a.jsxs)("div",{className:"stat",children:[(0,a.jsx)("div",{className:"stat-title",children:u.Postion.ReleasedBalance()}),(0,a.jsx)("div",{className:"stat-value",children:y.toString().match(/^\d+(?:\.\d{0,5})?/)}),(0,a.jsx)("div",{className:"stat-actions",children:(0,a.jsx)("button",{className:y<=0?"btn btn-md btn-disabled":"btn btn-md",onClick:function(){return M},children:u.Postion.Withdrawal()})})]})]})}),(0,a.jsxs)("div",{className:["grid pb-10 px-5",1!=S?"hidden":""].join(" "),children:[(0,a.jsxs)("label",{className:"label",children:[(0,a.jsx)("span",{className:"label-text",children:u.Postion.NumberOfTCP()}),(0,a.jsxs)("span",{className:"label-text-alt",children:[u.Postion.Balance(),": ",x.toString().match(/^\d+(?:\.\d{0,5})?/)," TCP"]})]}),(0,a.jsxs)("label",{className:"input-group bg-opacity-0 bg-neutral text-neutral-content ",children:[(0,a.jsx)("input",{type:"text",placeholder:u.Postion.InputPlaceholder(),className:"input input-bordered w-full bg-opacity-0",onChange:function(e){var t=e.target.value.replace(/[^\d]/,"");P(t)},value:R}),(0,a.jsx)("span",{className:"",onClick:function(){return P(x)},children:u.Postion.MAX()})]}),(0,a.jsxs)("div",{className:"card-actions mt-5 grid grid-cols-2 gap-5",children:[(0,a.jsxs)("button",{className:["btn btn-md ",O?"loading":"",g<=0||g<R?"btn-primary":"btn-disabled"].join(" "),onClick:function(){o&&(U(!0),n.approve(G,z).then((function(e){H(e.hash)})).catch((function(){U(!1),J.ZP.error("transaction failed")})))},children:[u.Postion.Approve()," TCP"]}),(0,a.jsx)("button",{className:["btn btn-md  ",Y?"loading":"",g>0&&g>=R?"btn-primary":"btn-disabled"].join(" "),onClick:function(){(0,K.UJ)(N)&&N&&N.toLowerCase()!=D?R?R<0?J.ZP.error(u.Postion.InputPlaceholder()):(X(!0),t.lock(o,(0,W.fi)(R.toString()),N,{value:W.fi(r)}).then((function(e){ne(e.hash)})).catch((function(){X(!1),J.ZP.error("transaction failed")}))):J.ZP.error(u.Postion.InputPlaceholder()):J.ZP.error(u.Postion.InviteLinkPlaceholder())},children:u.Postion.AddPosition()})]}),(0,a.jsxs)("ul",{className:"steps",children:[(0,a.jsx)("li",{className:["step",0==g||g<R?"step-primary":""].join(" ")}),(0,a.jsx)("li",{className:["step",g>0&&g>=R?"step-primary":""].join(" ")})]})]})]})})})},te=n(5104),ne=n(381),ae=n.n(ne);function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ie(e,t,n,a,s,i,r){try{var l=e[i](r),o=l.value}catch(u){return void n(u)}l.done?t(o):Promise.resolve(o).then(a,s)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var i=e.apply(t,n);function r(e){ie(i,a,s,r,l,"next",e)}function l(e){ie(i,a,s,r,l,"throw",e)}r(void 0)}))}}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(o){l=!0,s=o}finally{try{r||null==n.return||n.return()}finally{if(l)throw s}}return i}}(e,t)||ue(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e){return function(e){if(Array.isArray(e))return se(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ue(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){if(e){if("string"===typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?se(e,t):void 0}}var ce=new _.r6(q),de=function(e){e.tcpPositionContract;var t=e.tcpTokenContract,n=e.c2cMarketContract,r=e.usdtTokenContract,l=e.fee,o=(0,s.Ge)(),u=(o.library,o.chainId,o.account),c=(o.error,(0,i.useContext)(A).LL),d=(0,i.useState)(0),p=d[0],m=(d[1],(0,i.useState)(0)),y=(m[0],m[1],(0,i.useState)(0)),h=y[0],v=y[1],b=(0,i.useState)(0),w=b[0],g=b[1],T=(0,i.useState)(0),j=(T[0],T[1]),N=(0,i.useState)(0),C=N[0],M=N[1],k=le(f("parent-address",null),2),S=(k[0],k[1],(0,i.useState)([])),E=S[0],I=S[1],R=(0,i.useState)([]),P=R[0],L=R[1],O=(0,i.useState)(-1),U=O[0],_=O[1];function F(){return H.apply(this,arguments)}function H(){return(H=re(x().mark((function e(){var t,n,a,s,i,r,l,o,u,c,d,p,m,y,f,h,v,b,w,g,T;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new te.zt(ce),e.next=3,t.init();case 3:return n=new te.CH(Y,B.Mt),a=n.advertiseIds(),e.t0=le,e.next=8,t.all([a]);case 8:for(e.t1=e.sent,s=(0,e.t0)(e.t1,1),i=s[0],r=[],l=0;l<i.length;l++)r.push(n.c2CAdvertiseMap(i[l]));if(!(r.length>0)){e.next=20;break}return e.next=16,t.all(r);case 16:for(o=e.sent,u=[],c=0;c<o.length;c++)d=o[c],p=d.id,m=d.owner,y=d.nickName,f=d.total,h=d.sold,v=d.price,b=d.min,w=d.max,g=d.sellToken,T=d.receiveToken,u.push({id:p.toNumber(),owner:m,name:y,turnover:parseFloat(W.dF(h)),price:parseFloat(W.dF(v)),total:parseFloat(W.dF(f.sub(h))),min:parseFloat(W.dF(b)),max:parseFloat(W.dF(w)),sellToken:g,receiveToken:T});I(oe(u));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return D.apply(this,arguments)}function D(){return(D=re(x().mark((function e(){var t,n,a,s,i,r,l,o,c,d,p,m,y,f,h,v,b,w,g,T,j,N;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new te.zt(ce),(0,te.M4)(1337,"0x5FbDB2315678afecb367f032d93F642f64180aa3"),e.next=4,t.init();case 4:return n=new te.CH(Y,B.Mt),a=n.ownerC2COrderIds(u),e.t0=le,e.next=9,t.all([a]);case 9:for(e.t1=e.sent,s=(0,e.t0)(e.t1,1),i=s[0],r=[],l=0;l<i.length;l++)o=i[l],c=n.c2COrderMap(o),r.push(c);return e.next=16,t.all(r);case 16:if(!((d=e.sent).length<=0)){e.next=19;break}return e.abrupt("return");case 19:for(d=d.reverse(),p=[],m=0;m<d.length;m++)y=d[m],p.indexOf(y.adId.toNumber())<0&&p.push(y.adId.toNumber());for(f=[],h=0;h<p.length;h++)f.push(n.c2CAdvertiseMap(p[h]));return e.next=26,t.all(f);case 26:for(v=e.sent,b=[],w=0;w<d.length;w++)g=d[w],T=g.adId,j=p.indexOf(T.toNumber()),N=v[j],b.push({createTime:new Date(parseInt(g.createTime+"000")),lumpSum:parseFloat(W.dF(g.amount)),price:parseFloat(W.dF(g.price)),total:parseFloat(W.dF(g.quantity)),otherName:N.nickName,otherAddress:N.owner});L(oe(b));case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,i.useEffect)((function(){F(),Z()}),[]),(0,i.useEffect)((function(){r&&u&&(r.balanceOf(u).then((function(e){v(Number((0,W.bM)(e,18)))})),r.allowance(u,Y).then((function(e){g(Number((0,W.bM)(e,18)))})))}),[r,u]),(0,i.useEffect)((function(){t&&u&&(t.balanceOf(u).then((function(e){j(Number((0,W.bM)(e,$)))})),t.allowance(u,Y).then((function(e){M(Number((0,W.bM)(e,$)))})))}),[t,u]),(0,i.useEffect)((function(){var e=setInterval((function(){r&&u&&(r.balanceOf(u).then((function(e){v(Number((0,W.bM)(e,18)))})),r.allowance(u,Y).then((function(e){g(Number((0,W.bM)(e,18)))})))}),3e3),n=setInterval((function(){t&&u&&(t.balanceOf(u).then((function(e){j(Number((0,W.bM)(e,$)))})),t.allowance(u,Y).then((function(e){M(Number((0,W.bM)(e,$)))})))}),3e3);return function(){clearInterval(e),clearInterval(n)}}),[]);var G=(0,i.useState)(0),K=G[0],X=G[1],V=(0,i.useState)(),ee=V[0],ne=V[1];(0,i.useEffect)((function(){0==K&&F(),2==K&&Z()}),[K]);var se=(0,i.useState)(!1),ie=se[0],ue=se[1],de=(0,i.useState)(""),pe=de[0],me=de[1],ye=U>=0&&ee?ee*E[U].price:0;(0,i.useEffect)((function(){w>=ye&&ue(!1)}),[w]);var fe=(0,Q.$)({hash:pe,providerUrl:q});(0,i.useEffect)((function(){switch(fe.status){case"SUCCESS":J.ZP.success("transaction success");break;case"FAILED":ue(!1),J.ZP.error("transaction failed")}}),[fe.status]),(0,i.useEffect)((function(){ve&&(xe(!1),ne(0),X(0))}),[p]);var he=(0,i.useState)(!1),ve=he[0],xe=he[1],be=(0,i.useState)(""),we=be[0],ge=be[1],Te=U<0?0:E[U].max>E[U].total?E[U].total:E[U].max,je=(0,Q.$)({hash:we,providerUrl:q});return(0,i.useEffect)((function(){switch(console.log("transaction status",je),je.status){case"SUCCESS":xe(!1),X(2),J.ZP.success("transaction success");break;case"FAILED":xe(!1),J.ZP.error("transaction failed")}}),[je.status]),(0,a.jsx)("div",{className:"",children:(0,a.jsx)("div",{className:"mt-10 px-1",children:(0,a.jsxs)("div",{className:"w-full text-primary-content bg-opacity-10 glass rounded-box ",children:[(0,a.jsxs)("div",{className:"navbar pb-10",children:[(0,a.jsxs)("div",{className:"flex-1",onClick:function(){return X(0)},children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:0!=K?"h-5 w-5 m-1 ":"h-5 w-5 m-1 hidden",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),(0,a.jsx)("div",{className:"flex-1 ",children:(0,a.jsx)("h1",{className:"text-3xl",children:c.Recharge.Title()})})]}),(0,a.jsx)("div",{className:0==K?"flex":"hidden",onClick:function(){return X(2)},children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})})]}),(0,a.jsx)("div",{className:["grid pb-10 px-5",0!=K?"hidden":""].join(" "),children:(0,a.jsx)("div",{className:" bg-opacity-20 bg-neutral text-neutral-content shadow-2xl rounded-lg",children:E.map((function(e,n){return(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)("div",{className:"avatar online placeholder",children:(0,a.jsx)("div",{className:"bg-neutral-focus text-neutral-content rounded-full w-8",children:(0,a.jsx)("span",{className:"text-xl",children:e.name.substr(0,1)})})}),(0,a.jsx)("div",{className:"text-lg",children:e.name})]}),(0,a.jsxs)("div",{className:"text-sm text-slate-300",children:[c.Recharge.Turnover()," ",e.turnover]})]}),(0,a.jsxs)("div",{className:"text-lg pt-2 text-emerald-300",children:["$ ",(0,a.jsx)("span",{className:"text-3xl font-bold",children:e.price})]}),(0,a.jsxs)("div",{className:"text-sm pt-1",children:[(0,a.jsx)("span",{className:"text-slate-300",children:c.Recharge.Quantity()}),(0,a.jsxs)("span",{className:"ml-2",children:[e.total," TCP"]})]}),(e.min>0||e.max>0)&&(0,a.jsxs)("div",{className:"text-sm pt-1",children:[(0,a.jsx)("span",{className:"text-slate-300",children:c.Recharge.Quota()}),(0,a.jsxs)("span",{className:"ml-2",children:[e.min,"-",e.max," TCP"]})]}),(0,a.jsxs)("div",{className:"flex justify-between ",children:[(0,a.jsxs)("div",{className:"flex items-end text-emerald-300 text-sm",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"})}),(0,a.jsx)("span",{className:"text-slate-100",children:c.Recharge.Safety()})]}),u==e.owner&&C<=10&&(0,a.jsxs)("div",{onClick:function(){t.approve(Y,z)},className:"btn btn-md",children:[c.Recharge.Allowed()," TCP"]}),(0,a.jsx)("div",{onClick:function(){_(n),X(1)},className:"btn btn-md",children:c.Recharge.Buy()})]}),(0,a.jsx)("div",{className:"divider"})]},n)}))})}),(0,a.jsxs)("div",{className:["grid pb-10 px-5 text-neutral-content",1!=K?"hidden":""].join(" "),children:[(0,a.jsxs)("div",{className:"flex justify-between ",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("div",{className:"avatar placeholder",children:(0,a.jsx)("div",{className:"bg-emerald-300 text-neutral-content rounded-full w-10 h-10",children:(0,a.jsx)("span",{className:"text-sm",children:"TCP"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-slate-200",children:c.Recharge.UnitPrice()}),(0,a.jsxs)("div",{className:"text-lg",children:["$ ",U>=0?E[U].price:0]})]})]}),(0,a.jsx)("div",{className:"divider divider-horizontal"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("div",{className:"avatar online placeholder",children:(0,a.jsx)("div",{className:"bg-neutral-focus text-neutral-content rounded-full w-10 h-10",children:(0,a.jsx)("span",{className:"text-sm",children:U>=0?E[U].name.substr(0,1):"\u5546\u5bb6"})})}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"flex items-center text-xs text-slate-200",children:[c.Recharge.BusinessNickname(),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 text-emerald-300",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"})})]}),(0,a.jsx)("div",{className:"text-lg",children:U>=0?E[U].name:"\u5546\u5bb6"})]})]})]}),(0,a.jsxs)("label",{className:"input-group bg-opacity-0 bg-neutral text-neutral-content mt-2",children:[(0,a.jsx)("input",{type:"text",placeholder:c.Recharge.InputPlaceholder(),className:"w-full text-white bg-transparent focus:border-none focus:outline-none placeholder:text-slate-200 text-4xl font-bold",onChange:function(e){var t=e.target.value.replace(/[^\d]/,"");ne(t)},value:ee}),(0,a.jsx)("span",{className:"bg-transparent",children:"TCP"}),(0,a.jsx)("div",{className:"divider divider-horizontal"}),(0,a.jsx)("span",{className:"bg-transparent text-primary-content",onClick:function(){return ne(Te)},children:c.Recharge.MAX()})]}),(0,a.jsx)("div",{className:"divider m-0"}),(0,a.jsxs)("div",{className:"text-sm mt-1 text-slate-200",children:[(0,a.jsx)("span",{className:"",children:c.Recharge.AvailableBalance()}),(0,a.jsxs)("span",{className:"ml-2",children:[h," USDT"]})]}),U>=0&&(E[U].min>0||E[U].max>0)&&(0,a.jsxs)("div",{className:"text-sm mt-1 text-slate-200",children:[(0,a.jsx)("span",{className:"",children:c.Recharge.Quota()}),(0,a.jsxs)("span",{className:"ml-2",children:[U>=0?E[U].min:0,"-",U>=0?E[U].max:0," TCP"]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("span",{className:"text-2xl text-primary-content",children:c.Recharge.NeedToPay()}),(0,a.jsxs)("span",{className:"ml-2 text-slate-200",children:[ye," USDT"]})]}),(0,a.jsxs)("div",{className:"card-actions mt-5 grid grid-cols-2 gap-5",children:[(0,a.jsxs)("button",{className:["btn btn-md ",ie?"loading":"",w<=0||w<ye?"btn-primary":"btn-disabled"].join(" "),onClick:function(){u&&(ue(!0),r.approve(Y,z).then((function(e){me(e.hash)})).catch((function(){ue(!1),J.ZP.error("transaction failed")})))},children:[c.Recharge.WithPermission()," USDT"]}),(0,a.jsxs)("button",{className:["btn btn-md  ",ve?"loading":"",w>0&&w>=ye?"btn-primary":"btn-disabled"].join(" "),onClick:function(){ee?ee<0?J.ZP.error(c.Recharge.InputPlaceholder()):(xe(!0),n.createC2COrder(E[U].id,W.fi(ee+""),{value:W.fi(l)}).then((function(e){ge(e.hash)})).catch((function(){xe(!1),J.ZP.error("transaction failed")}))):J.ZP.error(c.Recharge.InputPlaceholder())},children:[c.Recharge.Buy(),"TCP"]})]}),(0,a.jsxs)("ul",{className:"steps",children:[(0,a.jsx)("li",{className:["step",0==w||w<ye?"step-primary":""].join(" ")}),(0,a.jsx)("li",{className:["step",w>0&&w>=ye?"step-primary":""].join(" ")})]}),(0,a.jsx)("div",{className:"divider"}),(0,a.jsxs)("div",{className:"mt-4 text-slate-300",children:[(0,a.jsx)("span",{className:"",children:c.Recharge.KindTips()}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"",children:c.Recharge.KindTipsContent()})]})]}),(0,a.jsx)("div",{className:["grid pb-10 px-5",2!=K?"hidden":""].join(" "),children:(0,a.jsx)("div",{className:"bg-opacity-20 bg-neutral text-neutral-content shadow-2xl rounded-lg",children:P.map((function(e,t){return(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsx)("div",{className:"flex justify-between",children:(0,a.jsxs)("div",{className:"flex gap-1 font-bold",children:[(0,a.jsx)("span",{className:"text-emerald-300",children:c.Recharge.Buy()}),(0,a.jsx)("span",{children:"TCP"})]})}),(0,a.jsxs)("div",{className:"flex flex-col mt-2 gap-1 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between w-full",children:[(0,a.jsx)("div",{className:"text-slate-200",children:c.Recharge.CreateTime()}),(0,a.jsx)("div",{children:ae()(e.createTime).format("YYYY-MM-DD HH:mm:ss")})]}),(0,a.jsxs)("div",{className:"flex justify-between w-full",children:[(0,a.jsx)("div",{className:"text-slate-200 ",children:c.Recharge.LumpSum()}),(0,a.jsxs)("div",{className:"font-bold",children:[e.lumpSum," USDT"]})]}),(0,a.jsxs)("div",{className:"flex justify-between w-full",children:[(0,a.jsx)("div",{className:"text-slate-200",children:c.Recharge.UnitPrice()}),(0,a.jsxs)("div",{children:[e.price," USDT"]})]}),(0,a.jsxs)("div",{className:"flex justify-between w-full",children:[(0,a.jsx)("div",{className:"text-slate-200",children:c.Recharge.Quantity()}),(0,a.jsxs)("div",{children:[e.total," TCP"]})]}),(0,a.jsxs)("div",{className:"flex justify-between w-full",children:[(0,a.jsx)("div",{className:"text-slate-200",children:c.Recharge.BusinessNickname()}),(0,a.jsx)("div",{children:e.otherName})]})]}),(0,a.jsx)("div",{className:"divider"})]},t)}))})})]})})})},pe=n(9361),me=n.n(pe),ye=n(640),fe=n.n(ye);function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(o){l=!0,s=o}finally{try{r||null==n.return||n.return()}finally{if(l)throw s}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xe=function(e){var t=e.tcpPositionContract,n=(e.tcpTokenContract,(0,s.Ge)()),r=(n.library,n.chainId,n.account),l=(n.error,(0,i.useContext)(A).LL),o=(0,i.useState)(0),u=o[0],c=o[1],d=(0,i.useState)(0),p=d[0],m=d[1],y=(0,i.useState)(0),h=y[0],v=y[1],x=(0,i.useState)(0),b=x[0],w=x[1],g=ve(f("parent-address",null),2);g[0],g[1];(0,i.useEffect)((function(){t&&r&&t.getUserInfo(r).then((function(e){console.log(e.recommendUser),console.log(e.recommendReward),console.log(e.level),console.log(e.levelReward),c(Number(e.recommendUser)),m(Number((0,W.bM)(e.recommendReward,$))),v(Number(e.level)),w(Number((0,W.bM)(e.levelReward,$)))}))}),[t,r]),(0,i.useEffect)((function(){var e=setInterval((function(){t&&r&&(t.getUserInfo(r).then((function(e){console.log(e.recommendUser),console.log(e.recommendReward),console.log(e.level),console.log(e.levelReward),c(Number(e.recommendUser)),m(Number((0,W.bM)(e.recommendReward,$))),v(Number(e.level)),w(Number((0,W.bM)(e.levelReward,$)))})),console.log("tcpPositionContract.interval end"))}),3e3);return function(){return clearInterval(e)}}),[]);var T=(0,i.useState)(0),j=T[0],N=T[1];return(0,a.jsx)("div",{className:"",children:(0,a.jsx)("div",{className:"mt-10 px-1",children:(0,a.jsxs)("div",{className:"w-full text-primary-content bg-opacity-10 glass rounded-box ",children:[(0,a.jsxs)("div",{className:"navbar pb-10",onClick:function(){return N(0)},children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:0!=j?"h-5 w-5 m-1 ":"h-5 w-5 m-1 hidden",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),(0,a.jsx)("div",{className:"flex-1 ",children:(0,a.jsx)("h1",{className:"text-3xl",children:l.Community.Title()})})]}),(0,a.jsxs)("div",{className:["grid pb-10 px-5",0!=j?"hidden":""].join(" "),children:[(0,a.jsxs)("div",{className:"stats bg-opacity-20 bg-neutral text-neutral-content stats-vertical lg:stats-horizontal shadow-2xl",children:[(0,a.jsxs)("div",{className:"stat",children:[(0,a.jsx)("div",{className:"stat-title",children:l.Community.ReferralUser()}),(0,a.jsx)("div",{className:"stat-value",children:u}),(0,a.jsx)("div",{className:"stat-actions",children:(0,a.jsx)("button",{onClick:function(){return N(1)},className:"btn ",children:l.Community.Invite()})})]}),(0,a.jsxs)("div",{className:"stat",children:[(0,a.jsx)("div",{className:"stat-title",children:l.Community.ReferralReward()}),(0,a.jsx)("div",{className:"stat-value",children:p.toString().match(/^\d+(?:\.\d{0,5})?/)})]})]}),(0,a.jsxs)("div",{className:"stats bg-opacity-20 bg-neutral text-neutral-content stats-vertical lg:stats-horizontal shadow-2xl",children:[(0,a.jsxs)("div",{className:"stat",children:[(0,a.jsx)("div",{className:"stat-title",children:l.Community.MarkerLevel()}),(0,a.jsx)("div",{className:"stat-value",children:h})]}),(0,a.jsxs)("div",{className:"stat",children:[(0,a.jsx)("div",{className:"stat-title",children:l.Community.MarkerReward()}),(0,a.jsx)("div",{className:"stat-value",children:b.toString().match(/^\d+(?:\.\d{0,5})?/)})]})]})]}),(0,a.jsx)("div",{className:["grid pb-10 px-5",1!=j?"hidden":""].join(" "),children:(0,a.jsxs)("div",{className:"card-body items-center",children:[(0,a.jsx)("h2",{className:"card-title",children:l.Community.Scanit()}),(0,a.jsx)("figure",{className:"",children:(0,a.jsx)(me(),{value:window.location.origin+"?address="+r,size:225,fgColor:"#000000",imageSettings:{src:"/icon.png",height:20,width:20,excavate:!0},className:"rounded-xl"})}),(0,a.jsx)("h2",{className:"card-title",children:l.Community.CopyLink()}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("div",{className:"whitespace-pre-line break-all underline text-white",children:window.location.origin+"?address="+r})}),(0,a.jsx)("div",{className:"card-actions",children:(0,a.jsx)("button",{className:"btn ",onClick:function(){fe()(window.location.origin+"?address="+r),J.ZP.success(l.Community.CopySuccess())},children:l.Community.Copy()})})]})})]})})})},be=function(e){var t=e.tcpPositionContract,n=(e.tcpTokenContract,e.fee),r=(0,s.Ge)(),l=(r.library,r.chainId,r.account),o=(r.error,(0,i.useContext)(A).LL),u=(0,i.useState)(0),c=u[0],d=u[1],p=(0,i.useState)(0),m=p[0],y=p[1];(0,i.useEffect)((function(){t&&l&&(t.getWaitHarvest(l).then((function(e){return d(Number((0,W.bM)(e,$)))})),t.userInfos(l).then((function(e){return y(Number((0,W.bM)(e.harvestAmount,$)))})))}),[t,l]),(0,i.useEffect)((function(){var e=setInterval((function(){console.log("tcpPositionContract.interval start"),t&&l&&(t.getWaitHarvest(l).then((function(e){return d(Number((0,W.bM)(e,$)))})),t.userInfos(l).then((function(e){return y(Number((0,W.bM)(e.harvestAmount,$)))})),console.log("tcpPositionContract.interval end"))}),3e3);return function(){return clearInterval(e)}}),[]);var f=(0,i.useState)(!1),h=f[0],v=f[1],x=(0,i.useState)(""),b=x[0],w=x[1],g=(0,Q.$)({hash:b,providerUrl:q}),T=(0,i.useState)(0),j=T[0],N=T[1];(0,i.useEffect)((function(){h&&j>c&&v(!1),M&&j>c&&k(!1),N(c)}),[c]),(0,i.useEffect)((function(){switch(g.status){case"SUCCESS":break;case"FAILED":v(!1),J.ZP.error("transaction failed")}}),[g.status]);var C=(0,i.useState)(!1),M=C[0],k=C[1],S=(0,i.useState)(""),E=S[0],I=S[1],R=(0,Q.$)({hash:E,providerUrl:q});(0,i.useEffect)((function(){switch(R.status){case"SUCCESS":break;case"FAILED":v(!1),J.ZP.error("transaction failed")}}),[R.status]);return(0,a.jsx)("div",{className:"",children:(0,a.jsx)("div",{className:"mt-10 px-1",children:(0,a.jsxs)("div",{className:"w-full text-primary-content bg-opacity-10 glass rounded-box ",children:[(0,a.jsx)("div",{className:"navbar pb-10 ",children:(0,a.jsx)("div",{className:"flex-1 ",children:(0,a.jsx)("h1",{className:"text-3xl",children:o.Interest.Title()})})}),(0,a.jsx)("div",{className:" grid pb-10 px-5",children:(0,a.jsxs)("div",{className:"stats bg-opacity-20 bg-neutral text-neutral-content stats-vertical lg:stats-horizontal shadow-2xl",children:[(0,a.jsxs)("div",{className:"stat",children:[(0,a.jsx)("div",{className:"stat-title",children:o.Interest.ReceiveInterest()}),(0,a.jsx)("div",{className:"stat-value",children:c.toString().match(/^\d+(?:\.\d{0,5})?/)}),(0,a.jsxs)("div",{className:"stat-actions space-x-5",children:[(0,a.jsx)("button",{className:["btn btn-md",h?"loading":"",c<=0?"btn-disabled":""].join(" "),onClick:function(){!c||c<=0?J.ZP.error(o.Postion.InputPlaceholder()):(v(!0),t.harvest({value:W.fi(n)}).then((function(e){w(e.hash)})).catch((function(e){v(!1),console.log(e),J.ZP.error("transaction failed")})))},children:o.Interest.Receive()}),(0,a.jsx)("button",{className:["btn btn-md",M?"loading":"",c<=0?"btn-disabled":""].join(" "),onClick:function(){!c||c<=0?J.ZP.error(o.Interest.ReceiveInterestZero()):(k(!0),t.relock({value:W.fi(n)}).then((function(e){I(e.hash)})).catch((function(){k(!1),J.ZP.error("transaction failed")})))},children:o.Interest.Reinvest()})]})]}),(0,a.jsxs)("div",{className:"stat",children:[(0,a.jsx)("div",{className:"stat-title",children:o.Interest.ReceivedInterest()}),(0,a.jsx)("div",{className:"stat-value",children:m.toString().match(/^\d+(?:\.\d{0,5})?/)})]})]})})]})})})},we=function(){var e=(0,i.useState)(0),t=e[0],n=e[1],s=(0,i.useState)([{img:"/ad/4de7c2275f921e919fa4d67b1dd991de.jpg",url:"https://1xbit1.com/cn/line?tag=d_33760m_1732c_2745fc76e8799f44232",time:2e3}]),r=s[0],l=s[1];return(0,i.useEffect)((function(){fetch("/ad.json",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){l(e)}))}),[]),(0,i.useEffect)((function(){if(r){var e=r[t].time;setTimeout((function(){var e=t+1;e>=r.length?n(0):n(e)}),e)}}),[r,t]),(0,a.jsx)("div",{className:"w-full mt-5 px-1",children:(0,a.jsxs)("div",{className:"w-full h-full rounded relative",children:[(0,a.jsx)("div",{className:"absolute bg-white text-sky-400 text-sm right-0 top-0",children:"Google \u5e7f\u544a "}),(0,a.jsx)("a",{href:r[t].url,target:"_blank",children:(0,a.jsx)("img",{src:r[t].img,className:"w-full h-36",alt:""})})]})})},ge=function(e){var t=e.index,n=(0,i.useState)(),r=n[0],l=n[1],o=(0,i.useState)(),u=o[0],c=o[1],d=(0,i.useState)(),p=d[0],m=d[1],y=(0,i.useState)(),f=y[0],h=y[1],v=(0,i.useState)("0"),x=v[0],b=v[1],w=(0,s.Ge)(),g=w.library;w.chainId,w.account,w.error;(0,i.useEffect)((function(){l(T()),c(N()),m(C()),h(j())}),[g]),(0,i.useEffect)((function(){fetch("/fortcp.json",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){b(e.fee)}))}),[]);var T=function(){var e=g&&new _.Qg(window.ethereum);if(e){var t=e.getSigner();return new F.CH(G,H.Mt,t)}},j=function(){var e=g&&new _.Qg(window.ethereum);if(e){var t=e.getSigner();return new F.CH(Y,B.Mt,t)}},N=function(){var e=g&&new _.Qg(window.ethereum);if(e){var t=e.getSigner();return new F.CH("0xC26A2BB245E0bceD2C2a2671391507fae3630846",Z.Mt,t)}},C=function(){var e=g&&new _.Qg(window.ethereum);if(e){var t=e.getSigner();return new F.CH("0x55d398326f99059fF775485246999027B3197955",Z.Mt,t)}};return(0,a.jsxs)("div",{className:"pb-20 lg:w-4/6 mx-auto",children:[0==t&&(0,a.jsx)(ee,{tcpPositionContract:r,tcpTokenContract:u,fee:x}),1==t&&(0,a.jsx)(be,{tcpPositionContract:r,tcpTokenContract:u,fee:x}),2==t&&(0,a.jsx)(xe,{tcpPositionContract:r,tcpTokenContract:u}),3==t&&(0,a.jsx)(de,{tcpPositionContract:r,tcpTokenContract:u,c2cMarketContract:f,usdtTokenContract:p,fee:x}),(0,a.jsx)(we,{})]})},Te=function(e){var t=e.index,n=e.setIndex,s=(0,i.useContext)(A).LL;return(0,a.jsxs)("div",{className:"tabs tabs-boxed grid grid-cols-4 content-center content-primary-content bg-opacity-30 text-primary-content fixed bottom-5 left-3 right-3 lg:bottom-20 lg:left-1/3 lg:right-1/3",children:[(0,a.jsx)("a",{onClick:function(){n(0)},className:["tab",0==t?"tab-active":""].join(" "),children:s.Footer.Postion()}),(0,a.jsx)("a",{onClick:function(){n(1)},className:["tab",1==t?"tab-active":""].join(" "),children:s.Footer.Interest()}),(0,a.jsx)("a",{onClick:function(){n(3)},className:["tab",3==t?"tab-active":""].join(" "),children:s.Footer.Recharge()}),(0,a.jsx)("a",{onClick:function(){n(2)},className:["tab",2==t?"tab-active":""].join(" "),children:s.Footer.Community()})]})},je=n(9008);function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(o){l=!0,s=o}finally{try{r||null==n.return||n.return()}finally{if(l)throw s}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Me=function(){var e=Ce(f("language","en"),2),t=e[0];e[1];(0,i.useEffect)((function(){var e=new URLSearchParams(window.location.search).get("address");e&&u(e)}),[]);(0,i.useContext)(A).LL;var n=(0,i.useState)(0),r=n[0],l=n[1],o=Ce(f("parent-address",null),2),u=(o[0],o[1]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(je.default,{children:[(0,a.jsx)("title",{children:"TCP GLOBAL"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width,initial-scale=1.0,user-scalable=no"})]}),(0,a.jsx)(s.Ht,{getLibrary:O,children:(0,a.jsxs)(E,{initialLocale:t,children:[(0,a.jsx)(J.x7,{position:"top-right",reverseOrder:!0}),(0,a.jsxs)("div",{className:"container min-h-screen max-w-full bg-gradient-to-br from-pink-300 to-blue-900 relative",children:[(0,a.jsx)(U,{}),(0,a.jsx)(ge,{index:r}),(0,a.jsx)(Te,{index:r,setIndex:l})]})]})})]})}},6601:function(){}},function(e){e.O(0,[885,877,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);